\documentclass[10pt]{article}
\setlength{\parskip}{0.25\baselineskip}
\usepackage[margin=1in]{geometry} 
\usepackage{amsmath,amsthm,amssymb, graphicx, multicol, array}
\usepackage[font=small,labelfont=bf]{caption}

\newcommand{\supp}{{\text{supp}}} 
\newcommand{\bv}{{\text{BV}}}
\newcommand{\ac}{{\text{AC}}}

\newenvironment{problem}[2][]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}

\begin{document}
 
\title{Homework \#3}
\author{Eric Tao\\
Math 237: Homework \#3}
\maketitle

\begin{problem}{Question 1}

Show that the only function $f \in L^1(\mathbb{R})$ such that $f  = f \ast f$ is $f = 0$ almost everywhere.

\end{problem}
\begin{proof}[Solution]

Let $f \in L^1(\mathbb{R})$. Suppose we have that $f = f \ast f$. We recall that the Fourier transform distributes pointwise over convolution, hence we have that:

$$ \hat{f}(\zeta ) = \widehat{f \ast f}(\zeta)  = \hat{f}(\zeta) \hat{f}(\zeta) $$

Hence, we already have that at each $\zeta$, $\hat{f} = 0, 1$, by solving the equation $\hat{f}(\zeta)^2 - \hat{f}(\zeta) = 0$. 

From Lemma 9.2.3 in Heil, we have that $\hat{f}$ is continuous. Moreover, from the Riemann-Lesbesgue lemma, since $f \in L^1$, we already know that $\hat{f} \in C_0(\mathbb{R})$. Hence, by continuity, since $\hat{f}$ may only take on values $0,1$, and that it is continuous, $\hat{f} = 0$ everywhere.

Thus, by Corollary 9.2.12 in Heil, since $\hat{f} = 0$ everywhere, it is true almost everywhere of course, and hence $f= 0$ almost everywhere.

\end{proof}

\begin{problem}{Question 6}

Suppose that $f \in \operatorname{AC}(\mathbb{T})$, that is, $1$ periodic and absolutely continuous on $[0,1]$.

6.1)

Prove that $\hat{f}'(n) = 2\pi i n \hat{f}(n)$ for all $n \in \mathbb{Z}$. Conclude that $\lim_{|n| \to \infty} n \hat{f}(n) = 0$.

6.2)

Show that if $\int_0^1 f(x) dx = 0$, then:

$$ \int_0^1 |f(x)|^2 dx \leq \frac{1}{4\pi^2} \int_0^1 |f'(x)|^2 dx $$


\end{problem}

\begin{proof}[Solution]

6.1)

First, we recall that by Corollary 6.1.5 in Heil, that since $f$ is absolutely continuous on $[0,1]$, we have that $f$ is differentiable almost everywhere, and $f' \in L^1[0,1]$. Since $f'$ is at least $L^1$, we may look at its Fourier transform:

$$ \hat{f'}(n) = \int_0^1 f'(x) \exp(-2\pi i n x) dx $$

We notice that for a fixed value of $n \in \mathbb{Z}$, that we may compute the derivative of $g =\exp(-2 \pi i nx)$ as $g' =- 2 \pi i n\exp(-2\pi i nx) $. Hence, $g$ is differentiable everywhere on $[0,1]$, and of course, since $|- 2 \pi i n\exp(-2\pi i nx)| = 2\pi n$ always, it is bounded. Hence, by Lemma 5.2.5, $g$ is Lipschitz on $[0,1]$. Thus, since Lipschitz functions are absolutely continuous (6.1.3), we may apply integration by parts on $f, g$. We have then that:

$$ \int_0^1 f'(x) \exp(-2\pi i nx ) dx = f(1) \exp(-2\pi i n) - f(0) \exp(0) - \int_0^1 f(x) [ - 2 \pi i n \exp(-2\pi i nx)] dx $$

Now, because $f$ is 1-periodic, we have that $f(0) = f(1)$. Further, $\exp(-2\pi in ) = \exp(0)$, of course, since $2\pi n$ is a multiple of $2\pi $ for any $n$. Hence, the first terms vanish.

We are left then with, after using the linearity of the integral:

$$ 2 \pi i n \int_0^1 f(x) \exp(- 2 \pi i nx) dx $$

However, we recognize the integral as exactly the Fourier transform of $f$ at $n$. Hence, we have our result, that:

$$ \hat{f'}(n) = 2 \pi in \hat{f}(n) $$

Again, by the Riemann-Lebesgue lemma, we have that since $f' \in L^1$, that $\lim_{|n| \to \infty} \hat{f'}(n) = 0 $. But, from our result, we have that:

$$ \lim_{|n| \to \infty} 2 \pi i n \hat{f}(n) = \lim_{|n| \to \infty} \hat{f'}(n) =  0 \implies \lim_{|n| \to \infty} n \hat{f}(n) = 0 $$

6.2)

First, we use the result from Heil Problem 9.3.24 (b) that the Plancherel equality holds for $f \in L^1(\mathbb{T})$. and prove that later.

Then, since $f' \in L^1(\mathbb{T})$, we have that:

$$ \sum_{n \in \mathbb{Z}} | \hat{f'}(n)|^2 = \Vert f' \Vert_2^2 = \int_0^1 |f'(x)|^2 dx $$

Now, from 6.1, we have that $\hat{f'}(n) =  2\pi i n \hat{f}(n)$ for each $n$. Hence, we have that:

$$  \sum_{n \in \mathbb{Z}} | \hat{f'}(n)|^2 =  \sum_{n \in \mathbb{Z}} 4 \pi^2 n^2| \hat{f}(n)|^2 = 4 \pi^2 \sum_{n \in \mathbb{Z}} n^2| \hat{f}(n)|^2$$

Now, we notice that since $\int_0^1 f(x) dx = 0$, that evidently, $\hat{f}(0) = 0$, as $\hat{f}(0) = \int_0^1 f(x) \exp(-2\pi i 0 x) dx = \int_0^1 f(x) dx = 0$.

Because this is 0, and for all $n \in \mathbb{Z}, n \not = 0$, we have that $|\hat{f}(n)| \leq | n \hat{f}(n)|$, we can conclude that:

$$  4 \pi^2 \sum_{n \in \mathbb{Z}} n^2| \hat{f}(n)|^2 \geq 4 \pi^2 \sum_{n \in \mathbb{Z}} | \hat{f}(n) |^2 $$

Finally, applying Plancherel's equaity again for $f$, as $f \in L^1(\mathbb{T})$, we see that:

$$ 4 \pi^2 \sum_{n \in \mathbb{Z}} | \hat{f}(n) |^2  = 4 \pi^2 \Vert f \Vert_2^2 = 4 \pi^2 \int_0^1 |f(x)|^2 dx $$

And rewriting all of these inequalities together, we have that:

$$ 4\pi^2 \int_0^1 |f(x)|^2 \leq \int_0^1 |f'(x)|^2 dx \implies \int_0^1 |f(x)|^2 \leq \frac{1}{4\pi^2} \int_0^1 |f'(x)|^2 dx$$

as desired.

Now, we return to proving 9.3.24.

First, we wish to show that if $f \in L^1(\mathbb{T})$, and $\hat{f} \in L^2(\mathbb{Z})$, then $f \in L^2(\mathbb{T})$.

Consider the function defined by:

$$ g(x) = \sum_{n \in \mathbb{Z}} \hat{f}(n) \exp(2 \pi i n x) $$

Since $\hat{f}(n) \in L^2(\mathbb{Z})$, if we were to consider $\langle g, g \rangle_2$ in the $L^2(\mathbb{T})$ norm, since the trigonometric system is a basis for $L^2(\mathbb{T})$, we see that $\langle g, g \rangle = \sum_n |\hat{f}(n)|^2 \langle \exp(2 \pi i n x), \exp(2\pi i n x) \rangle = \Vert \hat{f} \Vert_2$ where we understand $\Vert \hat{f} \Vert_2$ as meaning the $L^2(\mathbb{Z})$ norm.

Hence, $g \in L^2(\mathbb{T})$. However, since $\mathbb{T}$ is compact, we have the inclusion $L^2(\mathbb{T}) \subset L^1(\mathbb{T})$. Hence, $g \in L^1$. Thus, we may take a Fourier transform of $g$, and we notice by definition $\hat{g}(n) = \hat{f}(n)$. Thus, we have that $f = g$ almost everywhere, and hence, since $g \in L^2(\mathbb{T})$, so must be $f$.

Next, we want to show that the Plancherel equality holds, either both sides being finite or infinite. If $f \in L^2 \cap L^1$, then we're fine, by Corollary 9.3.14.

Then, we assume $f \not \in L^2(\mathbb{T})$ but $f \in L^1(\mathbb{T})$. Then, by the previous result, we have that $\hat{f} \not \in L^2(\mathbb{Z})$. Hence, we have that both sides of the Plancherel equality are infinite, and we are done.




\end{proof}

\begin{problem}{Question 12}

Fix a $g \in L^2(\mathbb{R})$. Let $k \in \mathbb{Z}$, and define the operator $T_k$ on $g$ that sends $T_k (g(x)) \mapsto g(x - k)$. Prove that the family $\{ T_k g \}_{k \in \mathbb{Z}}$ is an orthonormal sequence if and only if $\sum_{k \in \mathbb{Z}} | \hat{g}(\zeta - k)|^2 = 1$ almost everywhere.

\end{problem}

\begin{proof}[Solution]

First, suppose $T_k g$ is orthonormal. Consider the function $h(\zeta) = \sum_{k \in \mathbb{Z}} | \hat{g}(\zeta - k)|^2$. Since $k$ varies over all $\mathbb{Z}$, evidently, $h$ is 1-periodic. Moreover, since we know that the Fourier transform brings $L^2$ to $L^2$, we must have that $\hat{g} \in L^2$, and hence, $|\hat{g}|^2$ is in $L^1$. Since this integral converges, by the integral test then, so too must $h$ at each point $\zeta \in [0,1]$. In fact, since the integral over $[0,1]$ is actually:

$$\int_0^1 |h(\zeta)| = \int_0^1 \sum_{k} | \hat{g}(\zeta - k) |^2 d\zeta = \sum_{k} \int_0^1 | \hat{g}(\zeta - k )|^2 d\zeta = \sum_{k} \int_k^{k+1} | \hat{g}(\zeta)|^2 d\zeta = \int_{\mathbb{R}} |\hat{g}(\zeta)|^2 d\zeta$$

Where we justify interchanging the sum and integral by taking partial sums, and noting that of course, for the partial sums, their integral over $[0,1]$ is bounded by above by the integral of $|\hat{g}|^2$ over all of $\mathbb{R}$. Thus, $h \in L^1(\mathbb{T})$.

Then, consider the Fourier transform of $h$. We have that:

$$ \hat{f}(n) = \int_0^1 h(\zeta) \exp(-2 \pi i n \zeta) d\zeta = \int_0^1 \left (\sum_{k} |\hat{g}(\zeta - k)|^2 \right) \exp(-2 \pi i n \zeta) d\zeta $$ 

Here, since we know that $\exp(-2\pi i nk) = 1$ for every $k \in \mathbb{Z}$ regardless of $n$, we may scale the phase such that $\zeta = \zeta - k$ when distributing the exponential. Thus, we have that this equals:

$$ \int_0^1 \sum_{k} \left( |\hat{g}(\zeta - k)|^2 \exp(-2 \pi in (\zeta - k) \right) d\zeta $$

Playing the same trick with interchanging sums and integrals, by using the fact that the exponential has modulus 1, we see that this is simply an integral over all of $\mathbb{R}$ again, and doing some algebra with the modulus, we see:

$$  \int_0^1 \sum_{k} \left( |\hat{g}(\zeta - k)|^2 \exp(-2 \pi in (\zeta - k) \right) d\zeta = \int_{\mathbb{R}} | \hat{g}(\zeta)|^2 \exp(-2\pi i n \zeta) d\zeta = \int_{\mathbb{R}} [\hat{g}(\zeta) \exp(-2\pi i n \zeta)] \overline{\hat{g}(\zeta)} d\zeta$$

Since $\hat{g} \in L^2$, of course $\overline{\hat{g}} \in L^2$, and so too is $\hat{g} \exp(-2\pi i n \zeta)$. Thus, we may view this as, in the lanugage of Heil  9.2.21, if $M_{a}$ is the modulation operator that sends $f(x)$ to $\exp(2\pi i a x) f(x)$, as:

$$ \int_{\mathbb{R}} [\hat{g}(\zeta) \exp(-2\pi i n \zeta)] \overline{\hat{g}(\zeta)} d\zeta = \langle M_{-n} \hat{g}, \hat{g} \rangle $$

Now, by Theorem 9.4.6, the Fourier transform on $L^2$ functions obeys the Parseval Identity. Moreover, by Heil 9.2.21, if $T_b$ is the translation operator that sends $f(x) \mapsto f(x-b)$, then $\hat{T_a f} = M_{-a} \hat{f}$. (We will prove this separately). Thus, we have that:

$$ \langle M_{-n} \hat{g} \hat{g} \rangle = \langle T_n g , g \rangle $$

By hypothesis then, this is exactly $\delta_n^0$, as we had that $\{ T_k g \}$ was orthonormal. We know that the function $1$ has $1$ as the zeroth coefficient, and 0 else. By the uniqueness theorem (9.3.12) then, we must have that $h = 1$ almost everywhere.

Now, suppose that  $\sum_{k \in \mathbb{Z}} | \hat{g}(\zeta - k)|^2 = 1$ almost everywhere. Consider $\langle T_k g, T_{k'} g \rangle $ for some $k \in \mathbb{Z}$. Again, by the Parseval identity, we have that:

$$ \langle T_k g, T_{k'} g \rangle = \langle M_{-k} \hat{g}, M_{-k'} \hat{g} \rangle = \int_{\mathbb{R}} \exp(-2\pi i \zeta k) \hat{g}(\zeta) \overline{ \exp(-2\pi i \zeta k') \hat{g}(\zeta)} d\zeta =\int_{\mathbb{R}} \exp(-2\pi i \zeta (k - k')) |\hat{g}(\zeta)|^2 $$

Now, playing the same trick to convert this into $h$ and changing the integral into an integral over $[0,1]$ by slicing across intervals like $[k, k+1]$, we have this to be equal to:

$$ \sum_{n}  \int_0^1 \exp(-2\pi i \zeta (k - k' -n))| \hat{g}(\zeta - n)|^2 d\zeta = \int_0^1 \sum_{n}\left(  \exp(-2\pi i \zeta (k - k' -n))| \hat{g}(\zeta - n)|^2 \right) d\zeta  $$

Factoring out the exponential, and using again that integer shifts are equivalent to multiplying by $1$, we have that:

$$ \int_0^1 \sum_{n}\left( | \hat{g}(\zeta - n)|^2 \right)  \exp(-2\pi i \zeta (k- k') ) d\zeta  = \hat{h}(k - k') = \delta_{k-k'}^0$$

where we get that $\hat{h}(k-k')$ aligns with $\delta_{k - k'}^0$ almost everywhere, but since we're working over $\mathbb{Z}$, this is true everywhere as the only sets of measure 0 are empty.

Hence, we have that $ \{ T_k g \}$ is orthonormal.

Now, we need to prove that $\hat{T_a f} = M_{-a} \hat{f}$, for $f \in L^1$, as the $L^2$ part comes from the continuity of these operators, and convergence in the $L^2$ Fourier transform sense.

Well, computing this directly, we see that by a change of variables $x \mapsto x +a$

$$ \hat{T_a f}(\zeta) = \int_{\mathbb{R}} f(x-a) \exp(-2\pi i n \zeta x ) dx = \int_{\mathbb{R}} f(x) \exp(-2\pi i n \zeta (x + a)) dx =$$

$$\exp(-2\pi i n \zeta a) \int_{\mathbb{R}} f(x) \exp(-2\pi i n \zeta x) dx =\exp(-2\pi i n \zeta a) \hat{f}(\zeta) = M_{-a} \hat{f}(\zeta) $$

as desired.



\end{proof}

\begin{problem}{Question 14}

Let $p(x) = \chi_{[0,1)}(x)$, $h(x) = \chi_{[0,1/2)}(x) - \chi_{[1/2,1)}(x)$. Let $j, k \in\mathbb{Z}$, and define $I_{jk} = [2^{-j}k, 2^{-j}(k+1))$. Further define the following functions:

$$ \begin{cases} p_{jk} = 2^{j/2} p (2^{j} x - k) \\ h_{jk} = 2^{j/2} h (2^{j} x - k) \end{cases}$$

14.1)

Prove that $\{ h_{jk} \}$ is an orthonormal sequence in $L^2$.

14.2)

For each fixed $j \in \mathbb{Z}$, prove that $\{ p_{jk} \}_{k \in \mathbb{Z}}$ is an orthonormal sequence in $L^2$.  

14.3)

Fix a $j \in \mathbb{Z}$. Let $g_j$ be any step function, constant on each interval $I_{jk}$ for $k \in \mathbb{Z}$. Show that we may express $g_j(x) = g_{j-1}(x) + r_{j-1}(x)$, where

$$ r_{j-1}(x) = \sum_{k \in \mathbb{Z}} a_{j-1}(k)h_{j-1, k}(x) $$

for some coefficients $a_{j-1}(k)$ and some step function $g_{j-1}(x)$, constant on intervals $I_{j-1,k}$.

14.4)

Fix a $J \geq 0$. Consider the set:

$$ \{ p_{Jk} : 0 \leq k \leq 2^J - 1 \} \cup \{ h_{j,k} : j \geq J, 0 \leq k \leq 2^j - 1 \}$$

Prove that this set is an orthonormal sequence in $L^2[0,1]$.

14.5)

For $f \in L^2[0,1]$, and a fixed $J \geq 0$, show that we may find $g_j$ step functions for $j \geq J$, such that they are constant on each $I_{j,k}$, and that $g_j$ approximates $f$ in the $L^2$ norm.

Use this result and the result of 14.4 to show that the set in 14.4 is an orthonormal basis for $L^2[0,1]$.


\end{problem}

\begin{proof}[Solution]

14.1)

%Fix a $j \in \mathbb{Z}$, and consider the family of $\{ h_{jk} \}$ iterating across $k$.

%First, we wish to show that $\Vert h_{jk} \Vert_2 = 1$, regardless of the choice of $j,k$. Fix a choice of $j,k$. We see that, by the definition of $h$, that $h(2^jx - k)$ takes on $1$ on $I_{j+1, 2k}$, as we can see at the endpoints, $h(2^j 2^{-j - 1} 2k - k ) = h(k - k ) = h(0)= 1$. Further, $I_{j+1, 2k}$  has a length $2^{-j-1}$, and we can see that if $h(x) = 1$ on $[0,1/2)$, then $h(2^{j}x)$ takes on $1$ on an interval of length $2^{-j-1}$, from $[0,2^{-j-1})$. Translating this interval over by $k$, we see that this is exactly $I_{j+1, 2k}$. In a similar argument, we see that $h$ takes on $-1$ on $I_{j+1, 2k+1}$. Hence, we may rewrite $h_{jk}$ as:

%$$ h_{jk} = 2^{j/2} (\chi_{I_{j+1, 2k}} - \chi_{I_{j+1, 2k+1}} ) $$

%Thus, we can look at the $L^2$ norm of this function. We have that:

%$$ \Vert h_{jk} \Vert_2^2 = \int_{\mathbb{R}} | h_{jk} | ^2 = \int_{I_{j+1, 2k}} 2^j \chi_{I_{j+1, 2k}} + \int_{I_{j+1, 2k+1}} 2^j \chi_{I_{j+1, 2k}} = 2^j (2^{-j-1}+ 2^{-j-1}) = 1 $$

%where we've used the fact that the square of a characteristic function is itself, the measure of $I_{j+1, 2k}$ is equal to $2^{-j-1}$.

%Now, we want to take $h_{jk}, h_{jk'}$, and look at $\langle h_{jk}, h_{jk'} \rangle$. Computing directly, and dropping the complex conjugate as this family is strictly real-valued, we see that:

%$$ \langle h_{jk}, h_{jk'} \rangle = \int_{\mathbb{R}} 2^{j/2} (\chi_{I_{j+1, 2k}} - \chi_{I_{j+1, 2k+1}} )  2^{j/2} (\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k'+1}} ) = $$

%$$ 2^j \int_{\mathbb{R}}  \chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k}} \chi_{I_{j+1, 2k'+1}} - \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'}} + \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'+1}} $$

%By definition though, $I_{j+1, 2k} \cap I_{j+1, 2k'} = [2^{-j-1}2k, 2^{-j-1}(2k+1)) \cap [2^{-j-1}k', 2^{-j-1}(2k'+1))$, which is non-empty if and only if $k = k'$, as $j, k$ are integers, and so we have endpoints exactly at multiples of $2^{-j-1}$. We may disregard this case, as this means $h_{jk} = h_{jk'}$, and we wish to look at distinct elements of this family. Hence, if we have distinct elements, we have that $\chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'}}, \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'+1}}$ are identically 0.

%Then, we need only look at the terms $ - \chi_{I_{j+1, 2k}} \chi_{I_{j+1, 2k'+1}} - \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'}}$. However, in a similar fashion to the previous terms, these can be non-0 if and only if either $2k = 2k' + 1$, or $2k' = 2k + 1$. However, $k, k' \in \mathbb{Z}$, and hence there are no values of $k, k'$ such that these are non-0.

%Thus, if we have two distinct elements $h_{jk}, h_{jk'}$, we have that  $\langle h_{jk}, h_{jk'} \rangle = 0$. Hence, the family $\{ h_{jk} \}_{k \in \mathbb{Z}}$ for fixed $j$ is a orthonormal sequence in $L^2$.

Let $j, k \in\mathbb{Z}$, and take two $h_{j,k}, h_{j', k'}$. We first notice by the definition of $h_{jk}$, that we may rewrite $h_{jk}$ in terms of characteristic functions of $I_{j+1, k}$:

$$ h_{jk} = 2^{j/2} (\chi_{I_{j+1, 2k}} - \chi_{I_{j+1, 2k+1}} ) $$


Consider $\langle h_{j,k}, h_{j', k'} \rangle$, where I will drop the complex conjugate as these are real-valued functions. In terms of characteristic functions of $I_{j,k}$, we have that:

$$  \langle h_{j,k}, h_{j', k'} \rangle = \int_{\mathbb{R}}  h_{j,k}  h_{j', k'} = \int_{\mathbb{R}}  2^{j/2} (\chi_{I_{j+1, 2k}} - \chi_{I_{j+1, 2k+1}} ) 2^{j'/2} (\chi_{I_{j'+1, 2k'}} - \chi_{I_{j'+1, 2k'+1}} )$$

Without loss of generality, suppose $j \geq j'$, and switch labels if this is not true. First, suppose $j = j'$. Then, looking at the integrand and factoring out the $2^{j/2}$, we have that:

$$  (\chi_{I_{j+1, 2k}} - \chi_{I_{j+1, 2k+1}} )  (\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k'+1}} ) = \chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k+1}}\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'+1}} + \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'+1}}  $$

First, suppose $k = k'$. Then, we have that this is equal to:

$$ \chi_{I_{j+1, 2k}} +  \chi_{I_{j+1, 2k+1}} $$

as the square of a characteristic function is itself, and the cross terms vanish as $I_{j,k}$ and $I_{j, k'}$ are disjoint unless $k = k'$.

Then, in the case $j = j', k = k'$, we have that the integral evaluates as $2^j \int_{\mathbb{R}}  \chi_{I_{j+1, 2k}} +  \chi_{I_{j+1, 2k+1}} = 2^j( 2^{-j-1} + 2^{ -j -1} ) =  1$.

Else, suppose $k \not = k'$. Then, we have that $\chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'}},   \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'+1}}$ vanish. Looking at the remaining terms, we have:

$$  - \chi_{I_{j+1, 2k+1}}\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'+1}} $$

which, again, may be non-0 if and only if either $2k + 1 = 2k'$ or $2k = 2k' + 1$. However, since $k, k' \in \mathbb{Z}$, this is impossible. Hence, for all $k \not = k', j = j'$, this integral vanishes as desired.

Now, suppose $j < j'$. Due to the nested structure of dyadic intervals, for each $I_{j',2k'}, I_{j', 2k'+1}$, these fit exactly within a single $I_{j, l}$ for some $l$. Hence, we can say that at least one of:

$$ \begin{cases} \chi_{I_{j+1, 2k}}[\chi_{I_{j'+1, 2k'}} - \chi_{I_{j'+1, 2k'+1}}] \\ \chi_{I_{j+1, 2k+1}} [\chi_{I_{j'+1, 2k'}} - \chi_{I_{j'+1, 2k'+1}}] \end{cases}$$

vanishes.

If both vanish, then we are done, as the integral disappears as desired. WLOG, suppose the first term survives. Then, we have our integral as:

$$ 2^{j/2 + j'/2} \int_{\mathbb{R}} \chi_{I_{j+1, 2k}}\chi_{I_{j'+1, 2k'}} -  \chi_{I_{j+1, 2k}}\chi_{I_{j'+1, 2k'+1}} $$

Evidently, then, the first term takes on $1$ on an interval of measure $2^{-j'-1}$ and the second term takes on $-1$ on an interval of measure $2^{-j'-1}$. Hence, they cancel out, and we have that for all $j < j'$, $k \in \mathbb{Z}$, that $ \langle h_{j,k}, h_{j', k'} \rangle$. Hence, we have that:

$$  \langle h_{j,k}, h_{j', k'} \rangle = \delta_j^{j'} \delta_k^{k'}$$

as desired.

14.2)

In a similar fashion to 14.1, but maybe slightly cleaner, we do the same procedure. Fix a choice of $j \in \mathbb{Z}$. First, we reexpress $p_{jk}$ in terms of characteristic functions. We see that, in analogy to 14.1, that

$$  p_{jk} = 2^{j/2} \chi_{I_{jk}} $$

as we can see that $2^j x - k$ takes $2^{-j}k$ to $0$ and $2^{-j} k+1$ to $1$, hence takes $[2^{-j}k, 2^{-j}k+1)$ to $[0,1)$ as this is linear in $x$. 

Then, considering $\langle p_{jk}, p_{jk'} \rangle$, dropping the complex conjugate again, we see that:

$$ \langle p_{jk}, p_{jk'} \rangle = \int_{\mathbb{R}} 2^{j/2}  \chi_{I_{jk}} 2^{j/2}  \chi_{I_{jk'}} = 2^{j} \int_\mathbb{R}  \chi_{I_{jk}}  \chi_{I_{jk'}}$$

By definition, we may look at $I_{jk} \cap I_{jk'}$. We have that:

$$ I_{jk} \cap I_{jk'} =  [2^{-j}k, 2^{-j}(k+1)) \cap  [2^{-j}k', 2^{-j}(k'+1))$$

Since $j, k \in \mathbb{Z}$, these intervals have endpoints at multiple of $2^{-j}$, and hence these have overlap if and only if $k = k'$. Hence, we can say that:

$$ 2^{j} \int_\mathbb{R}  \chi_{I_{jk}}  \chi_{I_{jk'}} = 2^{j} \int_\mathbb{R}  \chi_{I_{jk}}  \delta_k^{k'} = 2^j | 2^{-j}(k+1) - 2^{-j} k| \delta_k^{k'} = 2^j 2^{-k} \delta_k^{k'} = \delta_k^{k'} $$

Therefore, $\{ p_{jk} \}_{k \in \mathbb{Z}}$ is an orthonormal sequence in $L^2$ for fixed $j \in \mathbb{Z}$.

14.3)

Fix a $j$, and a step function $g_j$, and consider the dyadic intervals one larger, $I_{j-1, k}$. Of course, each $I_{j-1,k}$ may be broken into $I_{j,2k} \cup I_{j, 2k+1}$, as we may split the interval as:

$$[2^{-j+1}k, 2^{-j+1}(k+1)) = [2^{-j} 2k, 2^{-j}(2k+2))) = [ 2^{-j} 2k, 2^{-j} 2k + 1) \cup [ 2^{-j} 2k+1, 2^{-j} 2k+2) $$

Call $g_j(I_{j, 2k}) = c$ and $g_j(I_{j, 2k+1}) = d$. Define $g_{j-1}(I_{j-1, k}) = \frac{c+d}{2}$ and define $a_{j-1}(k) = \frac{c - d}{2}$. Then, on $I_{j, 2k},I_{j, 2k+1} $, we have that:

$$ \begin{cases} g_{j-1}(I_{j, 2k}) + r_{j-1}(I_{j, 2k}) = \frac{c + d}{2} + \frac{c - d}{2} \chi_{I_{j, 2k}}(I_{j, 2k}) = c \\ g_{j-1}(I_{j, 2k+1}) + r_{j-1}(I_{j, 2k+1}) = \frac{c + d}{2} - \frac{c - d}{2} \chi_{I_{j, 2k}}(I_{j, 2k}) = d \end{cases} $$

We may continue this construction for each $I_{j, k}$, and determine $g_{j-1}, r_{j-1}, a_{j-1}$ on the entire real line, with $g_{j-1}$ a step function constant on $I_{j-1, k}$, $a_{j-1}(k)$ coefficients, and $r_{j-1} = \sum a_{j-1}(k) h_{j-1, k} $

14.4)

We have already shown $\{ p_{Jk} : 0 \leq k \leq 2^J - 1 \}$ to be orthonormal for $k \in \mathbb{Z}$, so of course this is orthonormal on its own, and similarly for $\{ h_{j,k} : j \geq J, 0 \leq k \leq 2^j - 1 \}$ for $j,k \in \mathbb{Z}$. So, we only need to show that $\langle p_{Jk}, h_{j, k'} \rangle = 0$ for any $j \geq J, 0 \leq k \leq 2^J - 1, 0 \leq k' \leq 2^j - 1 $

Thus, we have that:

$$\langle  p_{J,k}, h_{j, k'} \rangle = \int_{\mathbb{R}}p_{J,k} h_{j, k'} = \int_{\mathbb{R}} 2^{J/2} \chi_{I_{Jk}}[ 2^{j/2} (\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k'+1}} ) = $$

$$ 2^{J/2 + j/2} \int_{\mathbb{R}}  \chi_{I_{Jk}} \chi_{I_{j+1, 2k'}} -  \chi_{I_{Jk}} \chi_{I_{j+1, 2k' + 1}} $$

Now, in the same vein as 14.1 and the nesting of dyadic intervals, since $j+1 > j \geq J$, we must have that either both $I_{j+1, 2k' + 1}, I_{j+1, 2k' + 1} \subseteq I_{Jk}$ or neither are. If neither are, then this integral vanishes, and we are done.

Suppose then that both terms survive. Then, the first term takes on $1$ on the interval $ I_{j+1, 2k'}$, and the second term takes on $-1$ on the interval $I_{j+1, 2k' + 1}$. Since these intervals have the same measure, the integral vanishes due to the opposite sign. Hence, we have that $\langle p_{Jk}, h_{j, k'} \rangle = 0$ for any $p_{Jk}, h_{j, k'}$ and thus, $\{ p_{Jk} : 0 \leq k \leq 2^J - 1 \} \cup \{ h_{j,k} : j \geq J, 0 \leq k \leq 2^j - 1 \}$ is a orthonormal sequence.

14.5)

Since $[0,1]$ is compact, any step functions on dyadic intervals is aleady square integrable, including $p_{jk}, h_{jk}$. 

%First, suppose $f$ is non-negative. Then, define $g_j$ as the step function on $I_{j,k}$ such that $g_j(I_{j,k})$ takes on the $\operatorname{ess\,inf}_{x \in I_{j,k}} f(x)$, the essential infimum of $f$ on $I_{j,k}$. Evidently, the sequence $g_j$ converges to $f$ pointwise almost everywhere. Moreover, since $f \in L^2$, the sequence of $\Vert g_j \Vert_2$ is bounded above, and non-decreasing, hence convergent to $\Vert f \Vert_2$ via the monotone convergence sequence, as $\Vert f \Vert_2$ must be the supremum, due to the pointwise almost everywhere convergence.

%Now, from 14.3), we have already seen that we may express $g_j = g_{j-1} + \sum a_{j-1}(k) h_{j-1, k}$. We may perform this step recursively then to some $g_J$, a step function on $I_{J,k}$ and a sum of $a_{l} h_{l, k_l}$ for $J \leq l \leq j$ and $ 0 \leq k_l \leq 2^l - 1$. Hence, we see that $g_j$ is expressable as a linear combination of the sequence found in 14.4). In fact, we see that this argument works for all $j \geq J$.

%Moreover, from the construction of these step functions, we see that $g_{j-1}$ is nested within

First, suppose $f$ is a real function (i.e. $L^2$ is a real Hilbert space), and at least continuous. Construct $g_j$ in the following way. Define $g_J = \sum_{k} \langle f, p_{J,k} \rangle p_{J,k}$. Then, define $g_{j+1} = g_{j} + \sum_{k} \langle f, h_{j, k} \rangle h_{j,k}$. 

First, we remark that $g_j$ approximates $f$ in the $L^2$ sense in the following way. %We notice that $\Vert g_J \Vert_2^2$ has the following form:

%$$\Vert g_J \Vert_2^2 =  \int_{[0,1]} \sum_{k} \langle f, p_{J,k} \rangle \overline{\langle f, p_{J,k} \rangle } p_{J,k} \overline{p_{J,k}} = 2^J \sum_{k} \int_{I_{J,k}} \langle f, p_{J,k} \rangle^2  $$

%$$\Vert g_J \Vert_2^2 = \langle g_J, g_J \rangle = \langle \sum_{k}\langle f, p_{J,k} \rangle p_{J,k}, \sum_{k} \langle f, p_{J,k} \rangle p_{J,k} \rangle = \sum_{k}\langle f, p_{J,k} \rangle^2 $$

%due to the $p_{J,k}$ being orthonormal.

First looking at $g_J$ and expanding the inner product of the $\langle f, p_{J,k}\rangle$, we see that:

$$ \langle f, p_{J,k} \rangle =  \int_{[0,1]} f p_{J,k} = \int_{I_{J,k}} f 2^{J/2} $$

We note that since $[0,1]$ is compact, $L^2 \subseteq L^1$, so this integral makes sense to do.

Hence, we see that on the interval $I_{J,k}$, $g_J$ takes on the value, for $x \in I_{J,k}$:

$$g_J(x) =  \langle f, p_{J,k} \rangle p_{J,k}(x) = 2^{J/2}\chi_{I_{J,k}}(x) \int_{I_{J,k}} f 2^{J/2} = 2^J \int_{I_{J,k}} f  $$

Recognizing that the measure of the interval $I_{J,k}$ is $2^{-J}$, we see that $g_J$ takes on the average value of $f$ over each $I_{J,k}$.

Now, doing this same procedure for $g_{J+1}$, and looking at intervals $I_{J+1,k}$, we first compute the value of $\langle f, h_{J, k} \rangle$. We have that:

$$\langle f, h_{J,k} \rangle = \int_{[0,1]} f 2^{J/2} (\chi_{I_{J+1, 2k}} - \chi_{I_{J+1, 2k+1}} ) = 2^{J/2} \left( \int_{I_{J+1, 2k}} f - \int_{I_{J+1, 2k+1}} f \right)$$

Thus, we see that $g_{J+1}$ takes on the value, for $x \in I_{J+1, k}$:

$$ g_{J+1}(x) = \langle f, p_{J,\lfloor k/2 \rfloor} \rangle p_{J,\lfloor k/2 \rfloor } + \langle f, h_{J,\lfloor k/2 \rfloor} \rangle h_{J,\lfloor k/2 \rfloor}  = \begin{cases}  2^{J/2} (\langle f, p_{J,\lfloor k/2 \rfloor} \rangle +  \langle f, h_{J,\lfloor k/2 \rfloor} \rangle) &  k \equiv 0 \operatorname{mod} 2 \\ 2^{J/2} (\langle f, p_{J,\lfloor k/2 \rfloor}\rangle -  \langle f, h_{J,\lfloor k/2 \rfloor}\rangle)  &  k \equiv 1 \operatorname{mod} 2  \end{cases}$$

Looking at $ k \equiv 0 \operatorname{mod} 2$, we see that $g_{J+1}$ looks like:

$$ 2^{J}\left( \int_{I_{J,\lfloor k/2 \rfloor}} f + \int_{I_{J+1, k}} f - \int_{I_{J+1, k+1}} f \right) =  2^{J}\left( \int_{I_{J+1,k}} f + \int_{I_{J+1, k+1}}f + \int_{I_{J+1, k}} f - \int_{I_{J+1, k+1}}f \right) = $$

$$ 2^{J+1} \int_{I_{J+1, k}} f $$

i.e. exactly the average value of $f$ over $I_{J+1, k}$. We can see that the same idea holds for $k \equiv 1 \operatorname{mod} 2$, due to the sign difference.

Now, I don't want to write out the inductive step, but we see that we have that $g_{J+n}$ takes on the average value of $f$ over each $I_{J+n, k}$ and since we see that $h_{J+n, k}$ represents a difference of the averages over the $I_{J+n+1, 2k}, I_{J+n+1, 2k+1}$ intervals, a similar calculation to the above passes through to conclude that $g_{J+n+1}$ takes on the average value of $f$ over each $I_{J+n+1, k}$ interval as well.

Hence, due to the (uniform) continuity of $f$, being on a compact set, we have the following.

Let $x \in [0,1]$ be arbitrary, and take $\epsilon > 0$ as given. Since $f$ is uniformly continuous, we have that for all $|x - y | < \delta$, that $|f(x) - f(y)| < \epsilon$. For $x$ that is not a Dyadic endpoint, we choose a Dyadic interval scale $J$ such that $I_{J, k}$ contains $x$, and for all $y \in I_{J,k}$, $|x - y| < \delta$. Since the choice of scale is independent of the point due to uniform continuity, we may conclude that $g_J$ converges uniformly to $f$ on all but potentially a set of measure 0, the Dyadic endpoints.

Now, we have that:

$$ \Vert f - g_J \Vert^2 = \int_{[0,1]} | f - g_J |^2 \leq \operatorname{esssup} | f - g_J |^2 < \epsilon^2 $$

and hence we may approximate any continuous function with a step function, composed of the $p_{J,k}, h_{j,k}$. However, we also know that we may approximate any $L^2$ function with continuous functions, and so we can approximate any $L^2$ function with the $p, h$. Hence, this sequence is an orthonormal basis.

We extend this to complex valued functions in the normal way, where we break this into the real and imaginary parts, and play the same game.

%$$ \Vert g_J \Vert_2^2 = \sum_{k} \int_{I_{J,k}} \left( \int_{I_{J,k}} f \right)^2 $$

%and noticing that $2^{-J}$ is the measure of $I_{J,k}$, we realize that $ \langle f, p_{J,k} \rangle$ may be interpreted as the average value of $f$ on $I_{J,k}$. Hence, we have that $\Vert g_J \Vert_2^2$ is the sum over the squares of the average values of $f$ over each $I_{J,k}$.



\end{proof}


\begin{problem}{Question 16}

Let $\phi$ be a non-0 function in $L^2(\mathbb{R})$. For any $f \in L^2(\mathbb{R})$, define $V_\phi f$ via:

$$ V_\phi(f)(x, \zeta) = \int_{\mathbb{R}} f(t) \overline{\phi(t-x)} \exp(-2 \pi i t \zeta) dt $$

For $a, b \in \mathbb{R}$, let $T_a$ be the translation operator that sends $T_a(f(x)) \mapsto f(x -a )$ and let $M_b$ the modulation operator that sends $M_b(f(x)) \mapsto \exp(2 \pi bx)f(x)$.

16.1)

Prove that for each $f\in L^2$, $V_\phi f$ is uniformly continuous on $\mathbb{R}^2$, and that $\lim_{|(x, \zeta)| \to \infty} V_\phi f = 0$.

16.2)

Recall that the Schwarz space $\mathcal{S}(\mathbb{R})$ is defined as:

$$ \mathcal{S}(\mathbb{R}) = \{ f \in C^\infty(\mathbb{R}) : x^m f^{(n)}(x) \in L^\infty(\mathbb{R}) \text{ for all } m, n \geq 0 \}$$

Prove that if $f \in \mathcal{S}(\mathbb{R})$, then $V_\phi f \in S(\mathbb{R}^2)$.

16.3)

Prove that $V_\phi$ acts as an isometry from $L^2(\mathbb{R})$ to $L^2(\mathbb{R}^2)$, and that $\Vert V_\phi f \Vert_{L^2(\mathbb{R}^2)} = \Vert \phi \Vert_{L^2(\mathbb{R})} \Vert f \Vert_{L^2(\mathbb{R})}$ for every $f \in L^2$.

16.4)

Show that the operator $V_\phi^*$ defined by:

$$ V_\phi^* F(t) = \Vert \phi\Vert_2^{-2} \iint_{\mathbb{R}^2} F(x, \zeta) \exp(2\pi i \zeta t) \phi(t - x) dx d\zeta $$

takes $L^2(\mathbb{R}^2)$ to $L^2(\mathbb{R})$, and that for each $f \in L^2(\mathbb{R})$, we can make sense of the following inversion formula:

$$ f(t) = \Vert \phi \Vert_2^{-2} \iint_{\mathbb{R}^2} V_\phi f(x, \zeta) \exp(2 \pi i \zeta t) \phi(t - x) dx d\zeta $$

\end{problem}

\begin{proof}[Solution]

16.1)


\end{proof}

\end{document}