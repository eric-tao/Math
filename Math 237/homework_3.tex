\documentclass[10pt]{article}
\setlength{\parskip}{0.25\baselineskip}
\usepackage[margin=1in]{geometry} 
\usepackage{amsmath,amsthm,amssymb, graphicx, multicol, array}
\usepackage[font=small,labelfont=bf]{caption}

\newcommand{\supp}{{\text{supp}}} 
\newcommand{\bv}{{\text{BV}}}
\newcommand{\ac}{{\text{AC}}}

\newenvironment{problem}[2][]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}

\begin{document}
 
\title{Homework \#3}
\author{Eric Tao\\
Math 237: Homework \#3}
\maketitle

\begin{problem}{Question 1}

Show that the only function $f \in L^1(\mathbb{R})$ such that $f  = f \ast f$ is $f = 0$ almost everywhere.

\end{problem}
\begin{proof}[Solution]

Let $f \in L^1(\mathbb{R})$. Suppose we have that $f = f \ast f$. We recall that the Fourier transform distributes pointwise over convolution, hence we have that:

$$ \hat{f}(\zeta ) = \widehat{f \ast f}(\zeta)  = \hat{f}(\zeta) \hat{f}(\zeta) $$

Hence, we already have that at each $\zeta$, $\hat{f} = 0, 1$, by solving the equation $\hat{f}(\zeta)^2 - \hat{f}(\zeta) = 0$. 

From Lemma 9.2.3 in Heil, we have that $\hat{f}$ is continuous. Moreover, from the Riemann-Lesbesgue lemma, since $f \in L^1$, we already know that $\hat{f} \in C_0(\mathbb{R})$. Hence, by continuity, since $\hat{f}$ may only take on values $0,1$, and that it is continuous, $\hat{f} = 0$ everywhere.

Thus, by Corollary 9.2.12 in Heil, since $\hat{f} = 0$ everywhere, it is true almost everywhere of course, and hence $f= 0$ almost everywhere.

\end{proof}

\begin{problem}{Question 6}

Suppose that $f \in \operatorname{AC}(\mathbb{T})$, that is, $1$ periodic and absolutely continuous on $[0,1]$.

6.1)

Prove that $\hat{f}'(n) = 2\pi i n \hat{f}(n)$ for all $n \in \mathbb{Z}$. Conclude that $\lim_{|n| \to \infty} n \hat{f}(n) = 0$.

6.2)

Show that if $\int_0^1 f(x) dx = 0$, then:

$$ \int_0^1 |f(x)|^2 dx \leq \frac{1}{4\pi^2} \int_0^1 |f'(x)|^2 dx $$


\end{problem}

\begin{proof}[Solution]

6.1)

First, we recall that by Corollary 6.1.5 in Heil, that since $f$ is absolutely continuous on $[0,1]$, we have that $f$ is differentiable almost everywhere, and $f' \in L^1[0,1]$. Since $f'$ is at least $L^1$, we may look at its Fourier transform:

$$ \hat{f'}(n) = \int_0^1 f'(x) \exp(-2\pi i n x) dx $$

We notice that for a fixed value of $n \in \mathbb{Z}$, that we may compute the derivative of $g =\exp(-2 \pi i nx)$ as $g' =- 2 \pi i n\exp(-2\pi i nx) $. Hence, $g$ is differentiable everywhere on $[0,1]$, and of course, since $|- 2 \pi i n\exp(-2\pi i nx)| = 2\pi n$ always, it is bounded. Hence, by Lemma 5.2.5, $g$ is Lipschitz on $[0,1]$. Thus, since Lipschitz functions are absolutely continuous (6.1.3), we may apply integration by parts on $f, g$. We have then that:

$$ \int_0^1 f'(x) \exp(-2\pi i nx ) dx = f(1) \exp(-2\pi i n) - f(0) \exp(0) - \int_0^1 f(x) [ - 2 \pi i n \exp(-2\pi i nx)] dx $$

Now, because $f$ is 1-periodic, we have that $f(0) = f(1)$. Further, $\exp(-2\pi in ) = \exp(0)$, of course, since $2\pi n$ is a multiple of $2\pi $ for any $n$. Hence, the first terms vanish.

We are left then with, after using the linearity of the integral:

$$ 2 \pi i n \int_0^1 f(x) \exp(- 2 \pi i nx) dx $$

However, we recognize the integral as exactly the Fourier transform of $f$ at $n$. Hence, we have our result, that:

$$ \hat{f'}(n) = 2 \pi in \hat{f}(n) $$

Again, by the Riemann-Lebesgue lemma, we have that since $f' \in L^1$, that $\lim_{|n| \to \infty} \hat{f'}(n) = 0 $. But, from our result, we have that:

$$ \lim_{|n| \to \infty} 2 \pi i n \hat{f}(n) = \lim_{|n| \to \infty} \hat{f'}(n) =  0 \implies \lim_{|n| \to \infty} n \hat{f}(n) = 0 $$

6.2)

First, we use the result from Heil Problem 9.3.24 (b) that the Plancherel equality holds for $f \in L^1(\mathbb{T})$. and prove that later.

Then, since $f' \in L^1(\mathbb{T})$, we have that:

$$ \sum_{n \in \mathbb{Z}} | \hat{f'}(n)|^2 = \Vert f' \Vert_2^2 = \int_0^1 |f'(x)|^2 dx $$

Now, from 6.1, we have that $\hat{f'}(n) =  2\pi i n \hat{f}(n)$ for each $n$. Hence, we have that:

$$  \sum_{n \in \mathbb{Z}} | \hat{f'}(n)|^2 =  \sum_{n \in \mathbb{Z}} 4 \pi^2 n^2| \hat{f}(n)|^2 = 4 \pi^2 \sum_{n \in \mathbb{Z}} n^2| \hat{f}(n)|^2$$

Now, we notice that since $\int_0^1 f(x) dx = 0$, that evidently, $\hat{f}(0) = 0$, as $\hat{f}(0) = \int_0^1 f(x) \exp(-2\pi i 0 x) dx = \int_0^1 f(x) dx = 0$.

Because this is 0, and for all $n \in \mathbb{Z}, n \not = 0$, we have that $|\hat{f}(n)| \leq | n \hat{f}(n)|$, we can conclude that:

$$  4 \pi^2 \sum_{n \in \mathbb{Z}} n^2| \hat{f}(n)|^2 \geq 4 \pi^2 \sum_{n \in \mathbb{Z}} | \hat{f}(n) |^2 $$

Finally, applying Plancherel's equaity again for $f$, as $f \in L^1(\mathbb{T})$, we see that:

$$ 4 \pi^2 \sum_{n \in \mathbb{Z}} | \hat{f}(n) |^2  = 4 \pi^2 \Vert f \Vert_2^2 = 4 \pi^2 \int_0^1 |f(x)|^2 dx $$

And rewriting all of these inequalities together, we have that:

$$ 4\pi^2 \int_0^1 |f(x)|^2 \leq \int_0^1 |f'(x)|^2 dx \implies \int_0^1 |f(x)|^2 \leq \frac{1}{4\pi^2} \int_0^1 |f'(x)|^2 dx$$

as desired.

Now, we return to proving 9.3.24.

First, we wish to show that if $f \in L^1(\mathbb{T})$, and $\hat{f} \in l^2(\mathbb{Z})$, then $f \in L^2(\mathbb{T})$.

Consider the function defined by:

$$ g(x) = \sum_{n \in \mathbb{Z}} \hat{f}(n) \exp(2 \pi i n x) $$

Since $\hat{f}(n) \in l^2(\mathbb{Z})$, if we were to consider $\langle g, g \rangle_2$ in the $L^2(\mathbb{T})$ norm, since the trigonometric system is a basis for $L^2(\mathbb{T})$, we see that $\langle g, g \rangle = \sum_n |\hat{f}(n)|^2 \langle \exp(2 \pi i n x), \exp(2\pi i n x) \rangle = \Vert \hat{f} \Vert_2$ where we understand $\Vert \hat{f} \Vert_2$ as meaning the $l^2(\mathbb{Z})$ norm.

Hence, $g \in L^2(\mathbb{T})$. However, since $\mathbb{T}$ is compact, we have the inclusion $L^2(\mathbb{T}) \subset L^1(\mathbb{T})$. Hence, $g \in L^1$. Thus, we may take a Fourier transform of $g$, and we notice by definition $\hat{g}(n) = \hat{f}(n)$. Thus, we have that $f = g$ almost everywhere, and hence, since $g \in L^2(\mathbb{T})$, so must be $f$.

Next, we want to show that the Plancherel equality holds, either both sides being finite or infinite. If $f \in L^2 \cap L^1$, then we're fine, by Corollary 9.3.14.

Then, we assume $f \not \in L^2(\mathbb{T})$ but $f \in L^1(\mathbb{T})$. Then, by the previous result, we have that $\hat{f} \not \in L^2(\mathbb{Z})$. Hence, we have that both sides of the Plancherel equality are infinite, and we are done.




\end{proof}

\begin{problem}{Question 12}

Fix a $g \in L^2(\mathbb{R})$. Let $k \in \mathbb{Z}$, and define the operator $T_k$ on $g$ that sends $T_k (g(x)) \mapsto g(x - k)$. Prove that the family $\{ T_k g \}_{k \in \mathbb{Z}}$ is an orthonormal sequence if and only if $\sum_{k \in \mathbb{Z}} | \hat{g}(\zeta - k)|^2 = 1$ almost everywhere.

\end{problem}

\begin{proof}[Solution]

First, suppose $T_k g$ is orthonormal. Consider the function $h(\zeta) = \sum_{k \in \mathbb{Z}} | \hat{g}(\zeta - k)|^2$. Since $k$ varies over all $\mathbb{Z}$, evidently, $h$ is 1-periodic. Moreover, since we know that the Fourier transform brings $L^2$ to $L^2$, we must have that $\hat{g} \in L^2$, and hence, $|\hat{g}|^2$ is in $L^1$. Since this integral converges, by the integral test then, so too must $h$ at each point $\zeta \in [0,1]$. In fact, since the integral over $[0,1]$ is actually:

$$\int_0^1 |h(\zeta)| = \int_0^1 \sum_{k} | \hat{g}(\zeta - k) |^2 d\zeta = \sum_{k} \int_0^1 | \hat{g}(\zeta - k )|^2 d\zeta = \sum_{k} \int_k^{k+1} | \hat{g}(\zeta)|^2 d\zeta = \int_{\mathbb{R}} |\hat{g}(\zeta)|^2 d\zeta$$

Where we justify interchanging the sum and integral by taking partial sums, and noting that of course, for the partial sums, their integral over $[0,1]$ is bounded by above by the integral of $|\hat{g}|^2$ over all of $\mathbb{R}$. Thus, $h \in L^1(\mathbb{T})$.

Then, consider the Fourier transform of $h$. We have that:

$$ \hat{f}(n) = \int_0^1 h(\zeta) \exp(-2 \pi i n \zeta) d\zeta = \int_0^1 \left (\sum_{k} |\hat{g}(\zeta - k)|^2 \right) \exp(-2 \pi i n \zeta) d\zeta $$ 

Here, since we know that $\exp(-2\pi i nk) = 1$ for every $k \in \mathbb{Z}$ regardless of $n$, we may scale the phase such that $\zeta = \zeta - k$ when distributing the exponential. Thus, we have that this equals:

$$ \int_0^1 \sum_{k} \left( |\hat{g}(\zeta - k)|^2 \exp(-2 \pi in (\zeta - k) \right) d\zeta $$

Playing the same trick with interchanging sums and integrals, by using the fact that the exponential has period $2\pi$, we see that this is simply an integral over all of $\mathbb{R}$ again, and doing some algebra with the modulus, we see:

$$  \int_0^1 \sum_{k} \left( |\hat{g}(\zeta - k)|^2 \exp(-2 \pi in (\zeta - k) \right) d\zeta = \int_{\mathbb{R}} | \hat{g}(\zeta)|^2 \exp(-2\pi i n \zeta) d\zeta = \int_{\mathbb{R}} [\hat{g}(\zeta) \exp(-2\pi i n \zeta)] \overline{\hat{g}(\zeta)} d\zeta$$

Since $\hat{g} \in L^2$, of course $\overline{\hat{g}} \in L^2$, and so too is $\hat{g} \exp(-2\pi i n \zeta)$. Thus, we may view this as, in the lanugage of Heil  9.2.21, if $M_{a}$ is the modulation operator that sends $f(x)$ to $\exp(2\pi i a x) f(x)$, as:

$$ \int_{\mathbb{R}} [\hat{g}(\zeta) \exp(-2\pi i n \zeta)] \overline{\hat{g}(\zeta)} d\zeta = \langle M_{-n} \hat{g}, \hat{g} \rangle $$

Now, by Theorem 9.4.6, the Fourier transform on $L^2$ functions obeys the Parseval Identity. Moreover, by Heil 9.2.21, if $T_b$ is the translation operator that sends $f(x) \mapsto f(x-b)$, then $\widehat{T_a f} = M_{-a} \hat{f}$. (We will prove this separately). Thus, we have that:

$$ \langle M_{-n} \hat{g} \hat{g} \rangle = \langle T_n g , g \rangle $$

By hypothesis then, this is exactly $\delta_n^0$, as we had that $\{ T_k g \}$ was orthonormal. We know that the function $1$ has $1$ as the zeroth coefficient, and 0 else. By the uniqueness theorem (9.3.12) then, we must have that $h = 1$ almost everywhere.

Now, suppose that  $\sum_{k \in \mathbb{Z}} | \hat{g}(\zeta - k)|^2 = 1$ almost everywhere. Consider $\langle T_k g, T_{k'} g \rangle $ for some $k \in \mathbb{Z}$. Again, by the Parseval identity, we have that:

$$ \langle T_k g, T_{k'} g \rangle = \langle M_{-k} \hat{g}, M_{-k'} \hat{g} \rangle = \int_{\mathbb{R}} \exp(-2\pi i \zeta k) \hat{g}(\zeta) \overline{ \exp(-2\pi i \zeta k') \hat{g}(\zeta)} d\zeta =\int_{\mathbb{R}} \exp(-2\pi i \zeta (k - k')) |\hat{g}(\zeta)|^2 $$

Now, playing the same trick to convert this into $h$ and changing the integral into an integral over $[0,1]$ by slicing across intervals like $[k, k+1]$, we have this to be equal to:

$$ \sum_{n}  \int_0^1 \exp(-2\pi i \zeta (k - k' -n))| \hat{g}(\zeta - n)|^2 d\zeta = \int_0^1 \sum_{n}\left(  \exp(-2\pi i \zeta (k - k' -n))| \hat{g}(\zeta - n)|^2 \right) d\zeta  $$

Factoring out the exponential, and using again that integer shifts are equivalent to multiplying by $1$, we have that:

$$ \int_0^1 \sum_{n}\left( | \hat{g}(\zeta - n)|^2 \right)  \exp(-2\pi i \zeta (k- k') ) d\zeta  = \hat{h}(k - k') = \delta_{k-k'}^0$$

where we get that $\hat{h}(k-k')$ aligns with $\delta_{k - k'}^0$ almost everywhere, but since we're working over $\mathbb{Z}$, this is true everywhere as the only sets of measure 0 are empty.

Hence, we have that $ \{ T_k g \}$ is orthonormal.

Now, we need to prove that $\hat{T_a f} = M_{-a} \hat{f}$, for $f \in L^1$, as the $L^2$ part comes from the continuity of these operators, and convergence in the $L^2$ Fourier transform sense.

Well, computing this directly, we see that by a change of variables $x \mapsto x +a$

$$ \hat{T_a f}(\zeta) = \int_{\mathbb{R}} f(x-a) \exp(-2\pi i n \zeta x ) dx = \int_{\mathbb{R}} f(x) \exp(-2\pi i n \zeta (x + a)) dx =$$

$$\exp(-2\pi i n \zeta a) \int_{\mathbb{R}} f(x) \exp(-2\pi i n \zeta x) dx =\exp(-2\pi i n \zeta a) \hat{f}(\zeta) = M_{-a} \hat{f}(\zeta) $$

as desired.



\end{proof}

\begin{problem}{Question 14}

Let $p(x) = \chi_{[0,1)}(x)$, $h(x) = \chi_{[0,1/2)}(x) - \chi_{[1/2,1)}(x)$. Let $j, k \in\mathbb{Z}$, and define $I_{jk} = [2^{-j}k, 2^{-j}(k+1))$. Further define the following functions:

$$ \begin{cases} p_{jk} = 2^{j/2} p (2^{j} x - k) \\ h_{jk} = 2^{j/2} h (2^{j} x - k) \end{cases}$$

14.1)

Prove that $\{ h_{jk} \}$ is an orthonormal sequence in $L^2$.

14.2)

For each fixed $j \in \mathbb{Z}$, prove that $\{ p_{jk} \}_{k \in \mathbb{Z}}$ is an orthonormal sequence in $L^2$.  

14.3)

Fix a $j \in \mathbb{Z}$. Let $g_j$ be any step function, constant on each interval $I_{jk}$ for $k \in \mathbb{Z}$. Show that we may express $g_j(x) = g_{j-1}(x) + r_{j-1}(x)$, where

$$ r_{j-1}(x) = \sum_{k \in \mathbb{Z}} a_{j-1}(k)h_{j-1, k}(x) $$

for some coefficients $a_{j-1}(k)$ and some step function $g_{j-1}(x)$, constant on intervals $I_{j-1,k}$.

14.4)

Fix a $J \geq 0$. Consider the set:

$$ \{ p_{Jk} : 0 \leq k \leq 2^J - 1 \} \cup \{ h_{j,k} : j \geq J, 0 \leq k \leq 2^j - 1 \}$$

Prove that this set is an orthonormal sequence in $L^2[0,1]$.

14.5)

For $f \in L^2[0,1]$, and a fixed $J \geq 0$, show that we may find $g_j$ step functions for $j \geq J$, such that they are constant on each $I_{j,k}$, and that $g_j$ approximates $f$ in the $L^2$ norm.

Use this result and the result of 14.4 to show that the set in 14.4 is an orthonormal basis for $L^2[0,1]$.


\end{problem}

\begin{proof}[Solution]

14.1)

%Fix a $j \in \mathbb{Z}$, and consider the family of $\{ h_{jk} \}$ iterating across $k$.

%First, we wish to show that $\Vert h_{jk} \Vert_2 = 1$, regardless of the choice of $j,k$. Fix a choice of $j,k$. We see that, by the definition of $h$, that $h(2^jx - k)$ takes on $1$ on $I_{j+1, 2k}$, as we can see at the endpoints, $h(2^j 2^{-j - 1} 2k - k ) = h(k - k ) = h(0)= 1$. Further, $I_{j+1, 2k}$  has a length $2^{-j-1}$, and we can see that if $h(x) = 1$ on $[0,1/2)$, then $h(2^{j}x)$ takes on $1$ on an interval of length $2^{-j-1}$, from $[0,2^{-j-1})$. Translating this interval over by $k$, we see that this is exactly $I_{j+1, 2k}$. In a similar argument, we see that $h$ takes on $-1$ on $I_{j+1, 2k+1}$. Hence, we may rewrite $h_{jk}$ as:

%$$ h_{jk} = 2^{j/2} (\chi_{I_{j+1, 2k}} - \chi_{I_{j+1, 2k+1}} ) $$

%Thus, we can look at the $L^2$ norm of this function. We have that:

%$$ \Vert h_{jk} \Vert_2^2 = \int_{\mathbb{R}} | h_{jk} | ^2 = \int_{I_{j+1, 2k}} 2^j \chi_{I_{j+1, 2k}} + \int_{I_{j+1, 2k+1}} 2^j \chi_{I_{j+1, 2k}} = 2^j (2^{-j-1}+ 2^{-j-1}) = 1 $$

%where we've used the fact that the square of a characteristic function is itself, the measure of $I_{j+1, 2k}$ is equal to $2^{-j-1}$.

%Now, we want to take $h_{jk}, h_{jk'}$, and look at $\langle h_{jk}, h_{jk'} \rangle$. Computing directly, and dropping the complex conjugate as this family is strictly real-valued, we see that:

%$$ \langle h_{jk}, h_{jk'} \rangle = \int_{\mathbb{R}} 2^{j/2} (\chi_{I_{j+1, 2k}} - \chi_{I_{j+1, 2k+1}} )  2^{j/2} (\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k'+1}} ) = $$

%$$ 2^j \int_{\mathbb{R}}  \chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k}} \chi_{I_{j+1, 2k'+1}} - \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'}} + \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'+1}} $$

%By definition though, $I_{j+1, 2k} \cap I_{j+1, 2k'} = [2^{-j-1}2k, 2^{-j-1}(2k+1)) \cap [2^{-j-1}k', 2^{-j-1}(2k'+1))$, which is non-empty if and only if $k = k'$, as $j, k$ are integers, and so we have endpoints exactly at multiples of $2^{-j-1}$. We may disregard this case, as this means $h_{jk} = h_{jk'}$, and we wish to look at distinct elements of this family. Hence, if we have distinct elements, we have that $\chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'}}, \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'+1}}$ are identically 0.

%Then, we need only look at the terms $ - \chi_{I_{j+1, 2k}} \chi_{I_{j+1, 2k'+1}} - \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'}}$. However, in a similar fashion to the previous terms, these can be non-0 if and only if either $2k = 2k' + 1$, or $2k' = 2k + 1$. However, $k, k' \in \mathbb{Z}$, and hence there are no values of $k, k'$ such that these are non-0.

%Thus, if we have two distinct elements $h_{jk}, h_{jk'}$, we have that  $\langle h_{jk}, h_{jk'} \rangle = 0$. Hence, the family $\{ h_{jk} \}_{k \in \mathbb{Z}}$ for fixed $j$ is a orthonormal sequence in $L^2$.

Let $j, k \in\mathbb{Z}$, and take two $h_{j,k}, h_{j', k'}$. We first notice by the definition of $h_{jk}$, that we may rewrite $h_{jk}$ in terms of characteristic functions of $I_{j+1, k}$:

$$ h_{jk} = 2^{j/2} (\chi_{I_{j+1, 2k}} - \chi_{I_{j+1, 2k+1}} ) $$


Consider $\langle h_{j,k}, h_{j', k'} \rangle$, where I will drop the complex conjugate as these are real-valued functions. In terms of characteristic functions of $I_{j,k}$, we have that:

$$  \langle h_{j,k}, h_{j', k'} \rangle = \int_{\mathbb{R}}  h_{j,k}  h_{j', k'} = \int_{\mathbb{R}}  2^{j/2} (\chi_{I_{j+1, 2k}} - \chi_{I_{j+1, 2k+1}} ) 2^{j'/2} (\chi_{I_{j'+1, 2k'}} - \chi_{I_{j'+1, 2k'+1}} )$$

Without loss of generality, suppose $j \leq j'$, and switch labels if this is not true. First, suppose $j = j'$. Then, looking at the integrand and factoring out the $2^{j/2}$, we have that:

$$  (\chi_{I_{j+1, 2k}} - \chi_{I_{j+1, 2k+1}} )  (\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k'+1}} ) = \chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k+1}}\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'+1}} + \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'+1}}  $$

First, suppose $k = k'$. Then, we have that this is equal to:

$$ \chi_{I_{j+1, 2k}} +  \chi_{I_{j+1, 2k+1}} $$

as the square of a characteristic function is itself, and the cross terms vanish as, generically, $I_{j,n}$ and $I_{j, m}$ are disjoint unless $n = m$ for $n,m \in \mathbb{Z}$.

Then, in the case $j = j', k = k'$, we have that the integral evaluates as $2^j \int_{\mathbb{R}}  \chi_{I_{j+1, 2k}} +  \chi_{I_{j+1, 2k+1}} = 2^j( 2^{-j-1} + 2^{ -j -1} ) =  1$.

Else, suppose $k \not = k'$. Then, we have that $\chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'}},   \chi_{I_{j+1, 2k+1}} \chi_{I_{j+1, 2k'+1}}$ vanish. Looking at the remaining terms, we have:

$$  - \chi_{I_{j+1, 2k+1}}\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k}}\chi_{I_{j+1, 2k'+1}} $$

which, again, may be non-0 if and only if either $2k + 1 = 2k'$ or $2k = 2k' + 1$. However, since $k, k' \in \mathbb{Z}$, this is impossible. Hence, for all $k, k', j = j'$, this integral vanishes as desired.

Now, suppose $j < j'$. Due to the nested structure of dyadic intervals, for each $I_{j',2k'}, I_{j', 2k'+1}$, these fit exactly within a single $I_{j, l}$ for some $l$. Hence, we can say that at least one of:

$$ \begin{cases} \chi_{I_{j+1, 2k}}[\chi_{I_{j'+1, 2k'}} - \chi_{I_{j'+1, 2k'+1}}] \\ \chi_{I_{j+1, 2k+1}} [\chi_{I_{j'+1, 2k'}} - \chi_{I_{j'+1, 2k'+1}}] \end{cases}$$

vanishes.

If both vanish, then we are done, as the integral disappears as desired. WLOG, suppose the first term survives. Then, we have our integral as:

$$ 2^{j/2 + j'/2} \int_{\mathbb{R}} \chi_{I_{j+1, 2k}}\chi_{I_{j'+1, 2k'}} -  \chi_{I_{j+1, 2k}}\chi_{I_{j'+1, 2k'+1}} $$

Evidently, then, the first term takes on $1$ on an interval of measure $2^{-j'-1}$ and the second term takes on $-1$ on an interval of measure $2^{-j'-1}$. Hence, they cancel out, and we have that for all $j < j'$, $k \in \mathbb{Z}$, that $ \langle h_{j,k}, h_{j', k'} \rangle$. Hence, we have that:

$$  \langle h_{j,k}, h_{j', k'} \rangle = \delta_j^{j'} \delta_k^{k'}$$

as desired.

14.2)

In a similar fashion to 14.1, but maybe slightly cleaner, we do the same procedure. Fix a choice of $j \in \mathbb{Z}$. First, we reexpress $p_{jk}$ in terms of characteristic functions. We see that, in analogy to 14.1, that

$$  p_{jk} = 2^{j/2} \chi_{I_{jk}} $$

as we can see that $2^j x - k$ takes $2^{-j}k$ to $0$ and $2^{-j} k+1$ to $1$, hence takes $[2^{-j}k, 2^{-j}k+1)$ to $[0,1)$ as this is linear in $x$. 

Then, considering $\langle p_{jk}, p_{jk'} \rangle$, dropping the complex conjugate again, we see that:

$$ \langle p_{jk}, p_{jk'} \rangle = \int_{\mathbb{R}} 2^{j/2}  \chi_{I_{jk}} 2^{j/2}  \chi_{I_{jk'}} = 2^{j} \int_\mathbb{R}  \chi_{I_{jk}}  \chi_{I_{jk'}}$$

By definition, we may look at $I_{jk} \cap I_{jk'}$. We have that:

$$ I_{jk} \cap I_{jk'} =  [2^{-j}k, 2^{-j}(k+1)) \cap  [2^{-j}k', 2^{-j}(k'+1))$$

Since $j, k \in \mathbb{Z}$, these intervals have endpoints at multiple of $2^{-j}$, and hence these have overlap if and only if $k = k'$. Hence, we can say that:

$$ 2^{j} \int_\mathbb{R}  \chi_{I_{jk}}  \chi_{I_{jk'}} = 2^{j} \int_\mathbb{R}  \chi_{I_{jk}}  \delta_k^{k'} = 2^j | 2^{-j}(k+1) - 2^{-j} k| \delta_k^{k'} = 2^j 2^{-k} \delta_k^{k'} = \delta_k^{k'} $$

Therefore, $\{ p_{jk} \}_{k \in \mathbb{Z}}$ is an orthonormal sequence in $L^2$ for fixed $j \in \mathbb{Z}$.

14.3)

Fix a $j$, and a step function $g_j$, and consider the dyadic intervals one larger, $I_{j-1, k}$. Of course, each $I_{j-1,k}$ may be broken into $I_{j,2k} \cup I_{j, 2k+1}$, as we may split the interval as:

$$[2^{-j+1}k, 2^{-j+1}(k+1)) = [2^{-j} 2k, 2^{-j}(2k+2))) = [ 2^{-j} 2k, 2^{-j} 2k + 1) \cup [ 2^{-j} 2k+1, 2^{-j} 2k+2) $$

Call $g_j(I_{j, 2k}) = c_k$ and $g_j(I_{j, 2k+1}) = d_k$. Define $g_{j-1}(I_{j-1, k}) = \frac{c_k+d_k}{2}$ and define $a_{j-1}(k) = 2^{(-j+1)/2} \frac{c_k - d_k}{2}$, where the power of 2 is simply to cancel out the power of 2 from the definition of $h_{j-1, k}$. Then, on $I_{j, 2k},I_{j, 2k+1} $, we have that:

$$ \begin{cases} g_{j-1}(I_{j, 2k}) + r_{j-1}(I_{j, 2k}) = \frac{c_k + d_k}{2} +  2^{(-j+1)/2}\frac{c_k - d_k}{2} 2^{(j-1)/2}\chi_{I_{j, 2k}}(I_{j, 2k}) = c_k \\ g_{j-1}(I_{j, 2k+1}) + r_{j-1}(I_{j, 2k+1}) = \frac{c_k + d_k}{2} -  2^{(-j+1)/2}\frac{c_k - d_k}{2} 2^{(j-1)/2} \chi_{I_{j, 2k}}(I_{j, 2k}) = d_k \end{cases} $$

We may continue this construction for each $I_{j, k}$, and determine $g_{j-1}, r_{j-1}, a_{j-1}$ on the entire real line, with $g_{j-1}$ a step function constant on $I_{j-1, k}$, $a_{j-1}(k)$ coefficients, and $r_{j-1} = \sum a_{j-1}(k) h_{j-1, k} $

14.4)

We have already shown $\{ p_{Jk} : 0 \leq k \leq 2^J - 1 \}$ to be orthonormal for $k \in \mathbb{Z}$, so of course this is orthonormal on its own, and similarly for $\{ h_{j,k} : j \geq J, 0 \leq k \leq 2^j - 1 \}$ for $j,k \in \mathbb{Z}$. So, we only need to show that $\langle p_{Jk}, h_{j, k'} \rangle = 0$ for any $j \geq J, 0 \leq k \leq 2^J - 1, 0 \leq k' \leq 2^j - 1 $

Thus, we have that:

$$\langle  p_{J,k}, h_{j, k'} \rangle = \int_{\mathbb{R}}p_{J,k} h_{j, k'} = \int_{\mathbb{R}} 2^{J/2} \chi_{I_{Jk}}[ 2^{j/2} (\chi_{I_{j+1, 2k'}} - \chi_{I_{j+1, 2k'+1}} ) = $$

$$ 2^{J/2 + j/2} \int_{\mathbb{R}}  \chi_{I_{Jk}} \chi_{I_{j+1, 2k'}} -  \chi_{I_{Jk}} \chi_{I_{j+1, 2k' + 1}} $$

Now, in the same vein as 14.1 and the nesting of dyadic intervals, since $j+1 > j \geq J$, we must have that either both $I_{j+1, 2k' + 1}, I_{j+1, 2k' + 1} \subseteq I_{Jk}$ or neither are. If neither are, then this integral vanishes, and we are done.

Suppose then that both terms survive. Then, the first term takes on $1$ on the interval $ I_{j+1, 2k'}$, and the second term takes on $-1$ on the interval $I_{j+1, 2k' + 1}$. Since these intervals have the same measure, the integral vanishes due to the opposite sign. Hence, we have that $\langle p_{Jk}, h_{j, k'} \rangle = 0$ for any $p_{Jk}, h_{j, k'}$ and thus, $\{ p_{Jk} : 0 \leq k \leq 2^J - 1 \} \cup \{ h_{j,k} : j \geq J, 0 \leq k \leq 2^j - 1 \}$ is a orthonormal sequence.

14.5)

Since $[0,1]$ is compact, any step functions on dyadic intervals is aleady square integrable, including $p_{jk}, h_{jk}$. 

%First, suppose $f$ is non-negative. Then, define $g_j$ as the step function on $I_{j,k}$ such that $g_j(I_{j,k})$ takes on the $\operatorname{ess\,inf}_{x \in I_{j,k}} f(x)$, the essential infimum of $f$ on $I_{j,k}$. Evidently, the sequence $g_j$ converges to $f$ pointwise almost everywhere. Moreover, since $f \in L^2$, the sequence of $\Vert g_j \Vert_2$ is bounded above, and non-decreasing, hence convergent to $\Vert f \Vert_2$ via the monotone convergence sequence, as $\Vert f \Vert_2$ must be the supremum, due to the pointwise almost everywhere convergence.

%Now, from 14.3), we have already seen that we may express $g_j = g_{j-1} + \sum a_{j-1}(k) h_{j-1, k}$. We may perform this step recursively then to some $g_J$, a step function on $I_{J,k}$ and a sum of $a_{l} h_{l, k_l}$ for $J \leq l \leq j$ and $ 0 \leq k_l \leq 2^l - 1$. Hence, we see that $g_j$ is expressable as a linear combination of the sequence found in 14.4). In fact, we see that this argument works for all $j \geq J$.

%Moreover, from the construction of these step functions, we see that $g_{j-1}$ is nested within

First, suppose $f$ is a real function (i.e. $L^2$ is a real Hilbert space), and at least continuous. Construct $g_j$ in the following way. Define $g_J = \sum_{k} \langle f, p_{J,k} \rangle p_{J,k}$. Then, define $g_{j+1} = g_{j} + \sum_{k} \langle f, h_{j, k} \rangle h_{j,k}$. 

First, we remark that $g_j$ approximates $f$ in the $L^2$ sense in the following way. %We notice that $\Vert g_J \Vert_2^2$ has the following form:

%$$\Vert g_J \Vert_2^2 =  \int_{[0,1]} \sum_{k} \langle f, p_{J,k} \rangle \overline{\langle f, p_{J,k} \rangle } p_{J,k} \overline{p_{J,k}} = 2^J \sum_{k} \int_{I_{J,k}} \langle f, p_{J,k} \rangle^2  $$

%$$\Vert g_J \Vert_2^2 = \langle g_J, g_J \rangle = \langle \sum_{k}\langle f, p_{J,k} \rangle p_{J,k}, \sum_{k} \langle f, p_{J,k} \rangle p_{J,k} \rangle = \sum_{k}\langle f, p_{J,k} \rangle^2 $$

%due to the $p_{J,k}$ being orthonormal.

First looking at $g_J$ and expanding the inner product of the $\langle f, p_{J,k}\rangle$, we see that:

$$ \langle f, p_{J,k} \rangle =  \int_{[0,1]} f p_{J,k} = \int_{I_{J,k}} f 2^{J/2} $$

We note that since $[0,1]$ is compact, $L^2 \subseteq L^1$, so this integral makes sense to do.

Hence, we see that on the interval $I_{J,k}$, $g_J$ takes on the value, for $x \in I_{J,k}$:

$$g_J(x) =  \langle f, p_{J,k} \rangle p_{J,k}(x) = 2^{J/2}\chi_{I_{J,k}}(x) \int_{I_{J,k}} f 2^{J/2} = 2^J \int_{I_{J,k}} f  $$

Recognizing that the measure of the interval $I_{J,k}$ is $2^{-J}$, we see that $g_J$ takes on the average value of $f$ over each $I_{J,k}$.

Now, doing this same procedure for $g_{J+1}$, and looking at intervals $I_{J+1,k}$, we first compute the value of $\langle f, h_{J, k} \rangle$. We have that:

$$\langle f, h_{J,k} \rangle = \int_{[0,1]} f 2^{J/2} (\chi_{I_{J+1, 2k}} - \chi_{I_{J+1, 2k+1}} ) = 2^{J/2} \left( \int_{I_{J+1, 2k}} f - \int_{I_{J+1, 2k+1}} f \right)$$

Thus, we see that $g_{J+1}$ takes on the value, for $x \in I_{J+1, k}$:

$$ g_{J+1}(x) = \langle f, p_{J,\lfloor k/2 \rfloor} \rangle p_{J,\lfloor k/2 \rfloor } + \langle f, h_{J,\lfloor k/2 \rfloor} \rangle h_{J,\lfloor k/2 \rfloor}  = \begin{cases}  2^{J/2} (\langle f, p_{J,\lfloor k/2 \rfloor} \rangle +  \langle f, h_{J,\lfloor k/2 \rfloor} \rangle) &  k \equiv 0 \operatorname{mod} 2 \\ 2^{J/2} (\langle f, p_{J,\lfloor k/2 \rfloor}\rangle -  \langle f, h_{J,\lfloor k/2 \rfloor}\rangle)  &  k \equiv 1 \operatorname{mod} 2  \end{cases}$$

Looking at $ k \equiv 0 \operatorname{mod} 2$, we see that $g_{J+1}$ looks like:

$$ 2^{J}\left( \int_{I_{J,\lfloor k/2 \rfloor}} f + \int_{I_{J+1, k}} f - \int_{I_{J+1, k+1}} f \right) =  2^{J}\left( \int_{I_{J+1,k}} f + \int_{I_{J+1, k+1}}f + \int_{I_{J+1, k}} f - \int_{I_{J+1, k+1}}f \right) = $$

$$ 2^{J+1} \int_{I_{J+1, k}} f $$

i.e. exactly the average value of $f$ over $I_{J+1, k}$. We can see that the same idea holds for $k \equiv 1 \operatorname{mod} 2$, due to the sign difference.

Now, I don't want to write out the inductive step, but we see that we have that $g_{J+n}$ takes on the average value of $f$ over each $I_{J+n, k}$ and since we see that $h_{J+n, k}$ represents a difference of the averages over the $I_{J+n+1, 2k}, I_{J+n+1, 2k+1}$ intervals, a similar calculation to the above passes through to conclude that $g_{J+n+1}$ takes on the average value of $f$ over each $I_{J+n+1, k}$ interval as well.

Hence, due to the (uniform) continuity of $f$, being on a compact set, we have the following.

Let $x \in [0,1]$ be arbitrary, and take $\epsilon > 0$ as given. Since $f$ is uniformly continuous, we have that for all $|x - y | < \delta$, that $|f(x) - f(y)| < \epsilon$. For $x$ that is not a Dyadic endpoint, we choose a Dyadic interval scale $J$ such that $I_{J, k}$ contains $x$, and for all $y \in I_{J,k}$, $|x - y| < \delta$. Since the choice of scale is independent of the point due to uniform continuity, we may conclude that $g_J$ converges uniformly to $f$ on all but potentially a set of measure 0, the Dyadic endpoints.

Now, we have that:

$$ \Vert f - g_J \Vert^2 = \int_{[0,1]} | f - g_J |^2 \leq \operatorname{esssup} | f - g_J |^2 < \epsilon^2 $$

and hence we may approximate any continuous function with a step function, composed of the $p_{J,k}, h_{j,k}$. However, we also know that we may approximate any $L^2$ function with continuous functions, and so we can approximate any $L^2$ function with the $p, h$. Hence, this sequence is an orthonormal basis.

We extend this to complex valued functions in the normal way, where we break this into the real and imaginary parts, and play the same game.

%$$ \Vert g_J \Vert_2^2 = \sum_{k} \int_{I_{J,k}} \left( \int_{I_{J,k}} f \right)^2 $$

%and noticing that $2^{-J}$ is the measure of $I_{J,k}$, we realize that $ \langle f, p_{J,k} \rangle$ may be interpreted as the average value of $f$ on $I_{J,k}$. Hence, we have that $\Vert g_J \Vert_2^2$ is the sum over the squares of the average values of $f$ over each $I_{J,k}$.



\end{proof}


\begin{problem}{Question 16}

Let $\phi$ be a non-0 function in $L^2(\mathbb{R})$. For any $f \in L^2(\mathbb{R})$, define $V_\phi f$ via:

$$ V_\phi(f)(x, \zeta) = \int_{\mathbb{R}} f(t) \overline{\phi(t-x)} \exp(-2 \pi i t \zeta) dt $$

For $a, b \in \mathbb{R}$, let $T_a$ be the translation operator that sends $T_a(f(x)) \mapsto f(x -a )$ and let $M_b$ the modulation operator that sends $M_b(f(x)) \mapsto \exp(2 \pi bx)f(x)$.

16.1)

Prove that for each $f\in L^2$, $V_\phi f$ is uniformly continuous on $\mathbb{R}^2$, and that $\lim_{|(x, \zeta)| \to \infty} V_\phi f = 0$.

16.2)

Recall that the Schwarz space $\mathcal{S}(\mathbb{R})$ is defined as:

$$ \mathcal{S}(\mathbb{R}) = \{ f \in C^\infty(\mathbb{R}) : x^m f^{(n)}(x) \in L^\infty(\mathbb{R}) \text{ for all } m, n \geq 0 \}$$

Prove that if $f, \phi \in \mathcal{S}(\mathbb{R})$, then $V_\phi f \in S(\mathbb{R}^2)$.

16.3)

Prove that $V_\phi$ acts as an isometry from $L^2(\mathbb{R})$ to $L^2(\mathbb{R}^2)$, and that $\Vert V_\phi f \Vert_{L^2(\mathbb{R}^2)} = \Vert \phi \Vert_{L^2(\mathbb{R})} \Vert f \Vert_{L^2(\mathbb{R})}$ for every $f \in L^2$.

16.4)

Show that the operator $V_\phi^*$ defined by:

$$ V_\phi^* F(t) = \Vert \phi\Vert_2^{-2} \iint_{\mathbb{R}^2} F(x, \zeta) \exp(2\pi i \zeta t) \phi(t - x) dx d\zeta $$

takes $L^2(\mathbb{R}^2)$ to $L^2(\mathbb{R})$, and that for each $f \in L^2(\mathbb{R})$, we can make sense of the following inversion formula:

$$ f(t) = \Vert \phi \Vert_2^{-2} \iint_{\mathbb{R}^2} V_\phi f(x, \zeta) \exp(2 \pi i \zeta t) \phi(t - x) dx d\zeta $$

\end{problem}

\begin{proof}[Solution]

16.1)

First, we notice that we may recast this integral as the $L^2$ inner product with some operators:

$$ V_\phi(f)(x, \zeta) = \int_{\mathbb{R}} f(t) \overline{\phi(t-x)} \exp(-2 \pi i t \zeta) dt  = \langle f, M_\zeta T_x \phi \rangle $$

Next, we prove that, for $f \in L^2$, that $\Vert M_\zeta f - f \Vert_2 \to 0$, as $\zeta \to 0$, for fixed $x$.

We recall, that via Plancherel's, we have the following:

$$ \Vert M_\zeta f - f \Vert_2 = \Vert \hat{M_\zeta f} - \hat{f} \Vert_2 = \Vert T_\zeta \hat{f} - \hat{f} \Vert_2 $$

where we've used the linearity of the Fourier transform on $L^2$, and that the Fourier transform takes modulation into translation. However, we know already that $T_\zeta$ is continuous on $L^2$, hence, $\Vert M_\zeta f - f \Vert_2 \to 0$ as $\zeta \to 0$.

Now, fix an arbitrary $(x, \zeta)$ and consider $|V_\phi(f)(x', \zeta') - V_\phi(f)(x, \zeta) |$. Let $\epsilon > 0$ be given. We see that:

$$ |V_\phi(f)(x', \zeta') - V_\phi(f)(x, \zeta) | = | \langle f, M_{\zeta'} T_{x'} \phi \rangle - \langle f, M_\zeta T_x \phi \rangle| = $$

$$ |\langle f, M_{\zeta'}T_{x'} \phi - M_\zeta T_x \phi \rangle | \leq \Vert f \Vert \Vert  M_{\zeta'}T_{x'} \phi - M_\zeta T_x \phi \Vert $$

%Examining the second term, we see that after a transformation $t \mapsto x + t$:

%$$ M_{\zeta'}T_{x'} \phi(t) - M_\zeta T_x  \phi(t) = \exp(2 \pi i t \zeta') \phi(t - x') - \exp(2 \pi i t \zeta) \phi(t - x) =  $$

%$$\exp(2 \pi i (t+x) \zeta') \phi(t + x - x') - \exp(2 \pi i (t+x) \zeta) \phi(t )$$

%Next, we factor out $\exp(2\pi i (t+x) \zeta)$ and see that:

%$$ \exp(2 \pi i (t+x) \zeta') \phi(t + x - x') - \exp(2 \pi i (t+x) \zeta) \phi(t ) = \exp(2 \pi i (t + x) \zeta) \left[ \exp(2 \pi i (t+x)(\zeta' - \zeta) \phi(t + x - x')  - \phi(t) \right] $$

%Hence, we can say that:

%$$  \Vert  M_{\zeta'}T_{x'} \phi - M_\zeta T_x \phi \Vert  = | \exp(2 \pi i (t + x) \zeta)| \Vert T_{-x} M_{\zeta' - \zeta} T_{x'} \phi - \phi \Vert = \Vert T_{-x} M_{\zeta' - \zeta} T_{x'} \phi - \phi \Vert  $$

%Examining the second term at a point $t \in \mathbb{R}$, we see that:

%$$  M_{\zeta'}T_{x'} \phi(t) - M_\zeta T_x \phi(t) =  \exp(2 \pi i t \zeta') \phi(t - x') - \exp(2 \pi i t \zeta) \phi(t - x)  = $$

%$$\exp(2 \pi i t \zeta) \left[  \exp(2 \pi i t (\zeta' - \zeta)) \phi(t - x') - \phi(t - x) \right] $$

We then split the second term, via a triangle inequality:

$$  \Vert  M_{\zeta'}T_{x'} \phi - M_\zeta T_x \phi \Vert \leq \Vert M_{\zeta'} T_{x'} \phi - M_{\zeta} T_{x'} \phi \Vert + \Vert M_{\zeta} T_{x'}\phi - M_{\zeta} T_x \phi \Vert$$

We notice that for the first term, at each point $t$, we have that:

$$  M_{\zeta'} T_{x'} \phi(t) - M_{\zeta} T_{x'} \phi (t) =  \exp(2 \pi i t \zeta') \phi(t - x') -  \exp(2 \pi i t \zeta) \phi(t - x') = \exp(2 \pi i t \zeta)\left[ \exp(2 \pi i t (\zeta' - \zeta)) \phi(t - x') - \phi(t - x')\right]  $$

Hence, in terms of modulus, we have that this is at most $M_{\zeta'  - \zeta} T_{x'} \phi - T_{x'} \phi$. Then, we have that:

$$ \Vert M_{\zeta'} T_{x'} \phi - M_{\zeta} T_{x'} \phi \Vert \leq \Vert M_{\zeta'  - \zeta} T_{x'} \phi - T_{x'} \phi \Vert \leq \epsilon/2\Vert f \Vert $$ for some choice of $|\zeta' - \zeta| < \delta(x')$, from what we proved about the continuity of the modulation.

Similarly, we have that, at a point $t$ for the second term, that since we modulate by the same $\zeta$ for each term, we factor out the same phase difference, and we have that:

$$  \Vert M_{\zeta} T_{x'}\phi - M_{\zeta} T_x \phi \Vert \leq  \Vert T_{x'}\phi - T_x \phi \Vert \leq \Vert T_{x' - x} \phi - \phi \Vert$$

By the continuity of translations, then, we can find a $\delta > 0 $ such that $| x' - x| < \delta \implies \Vert T_{x' - x} \phi - \phi \Vert < \epsilon/2\Vert f \Vert$.

Thus, since we can control both of these, where we need only choose how close $x'$ is first so we can control $\zeta'$, and since this is independent of the actual point $(x, \zeta)$, we may conclude that $V_\phi(f)$ is uniformly continuous over $\mathbb{R}^2$.

%Next, we see that since $\phi, f \in L^2$, that $\langle f, T_x \phi \rangle < \infty$, since the translation of a $L^2(\mathbb{R})$ function is still a $L^2(\mathbb{R})$ function. Hence, $f(t) \overline{\phi(t - x)} \in L^1$, and we may recognize that $V_\phi(f)(x, \zeta)$ is its Fourier transform for fixed values of $x$. Hence, by Riemann-Lebesgue, we already have that as $|\zeta| \to \infty$ for any $x$, that $V_\phi(f) \to 0$.

Now, we use the result from 16.3 that $V_\phi(f)$ is $L^2(\mathbb{R}^2)$ to show the result in the limit, as we do not use this limit result at all in 16.3. Suppose $|V_\phi(f)|$ does not converge to $0$ as $|(x, \zeta)| \to \infty$. Then, this implies that we may find a sequence $y_n = (x_n, \zeta_n)$ such that $|y_n| \to \infty$ and that for some $\epsilon > 0$, $| V_\phi(f)| \geq \epsilon$. By uniform continuity then, we have that there exists a $\delta > 0$ such that for all $|y_n - z| < \delta$, we have that $|V_\phi(f)(y_n) - V_\phi(f)(z)| < \epsilon/2$, which implies that for all $|y_n - z| < \delta$, that $|V_\phi(f)(z)| \geq \epsilon/2$.

 The fact that this is $L^2$ implies that for some $a$, we can say that:

$$ \iint_{\mathbb{R}^2} | V_\phi(f)|^2 dx d\zeta - \iint_{[-a,a] \times [-a,a]} |V_\phi(f)|^2 dx d\zeta < \epsilon' $$

as the convergence of this integral guarantees this to be possible.

However, from the uniform continuity argument we just made, if we pick a subsequence of $y_n$ such that $|y_{n_i}|$ is strictly increasing, the distance between $y_{n_i}$ and $[-a, a] \times [-a, a]$ is at least $2 \delta$ for all $n_i$, and $|y_{n_k} - y_{n_{k'}}| > 2\delta$ for all $n_k, n_{k'}$, we can look at, for $y_{n_i} = (x_{n_i}, \zeta_{n_i})$:

$$ \iint_{[x_{n_i} - \delta/2, x_{n_i} + \delta/2] \times [\zeta_{n_i} - \delta/2, \zeta_{n_i} + \delta/2]} |V_{\phi}(f)|^2 dx d\zeta \geq \frac{\epsilon^2}{4}\delta^2 $$

where we justify this as, for every point in $[x_{n_i} - \delta/2, x_{n_i} + \delta/2] \times [\zeta_{n_i} - \delta/2, \zeta_{n_i} + \delta/2]$, this is at most $\sqrt{2\delta^2/4} = \delta/\sqrt{2} < \delta$ away from $(x_{n_i}, \zeta_{n_i})$, and hence that lower bound is accurate.

Moreover, by our choice of subsequence, we are guaranteed, that no point $y_{n_i}$ is within $\delta/2$ of the bounded interval that we set. Further, we are also guaranteed by our choice of subsequence that each $[x_{n_i} - \delta/2, x_{n_i} + \delta/2] \times [\zeta_{n_i} - \delta/2, \zeta_{n_i} + \delta/2]$ is disjoint from each other, due to enforcing that they are at least $2\delta$ apart in terms of center - we may do this again, since the modulus $|y_n | \to \infty$.

Thus, we would have that:

$$ \iint_{\mathbb{R}^2 \setminus [-a,a] \times [-a,a]} |V_\phi(f)|^2 dx d\zeta \geq \sum_{i=1}^\infty \iint_{[x_{n_i} - \delta/2, x_{n_i} + \delta/2] \times [\zeta_{n_i} - \delta/2, \zeta_{n_i} + \delta/2]} | V_\phi(f)|^2 dx d\zeta = \sum_{i=1}^\infty \frac{\epsilon^2}{4} \delta^2 = \infty$$

a contradiction. Thus, we have that $|V_\phi(f)| \to 0$, and hence, $V_\phi(f) \to 0$, as $|(x, \zeta)| \to \infty$ as desired.




16.2)

Let $f, \phi \in \mathcal{S}(\mathbb{R})$. %We notice that by a translation of the integral, sending $t \mapsto t + x$, we may rewrite $V_\phi(f)(x, \zeta)$ as:

%$$ V_\phi(f)(x, \zeta) = \int_{\mathbb{R}} f(t) \overline{\phi(t - x)} \exp(-2 \pi i t \zeta) dt = \int_\mathbb{R} f(t + x) \overline{\phi(t)} \exp(-2 \pi i (t + x) \zeta) dt = $$

%$$ \exp(-2\pi i x \zeta) \int_\mathbb{R} f(t + x) \overline{\phi(t)} \exp(-2\pi i t \zeta) dt $$

We notice that clearly, $f \overline{T_x \phi} (t) = f(t)\overline{ T_x \phi (t)}$ is a Schwartz function as a function of $t$. It is infinitely differentiable, as $\phi, f$ as infinitely differentiable, and if we consider functions of the form $t^m \partial^n_t (f \overline{T_x \phi} )$, we notice that due to a Leibniz rule, this will look exactly like $t^m \sum_{i=0^n} a_i f^{(i)}\overline{ T_x \phi^{(n-i)}}$, due to the product rule for derivatives, where $a_i$ generally is something like $n$ choose $i$, but we're content with just viewing it as a constant.

Then, for each term, we may group $t^m f^{(i)}$ and see that as $L^\infty$ as $f \in \mathcal{S}(\mathbb{R})$. Then, since $\overline{\phi^{(n-i)}} \in L^\infty$ as well, due to $\phi \in L^\infty$, we have that each term is just the product of two $L^\infty$ functions, with a translation and a constant, and the product of these is still $L^\infty$. But, the finite sum of $L^\infty$ functions is finite almost everywhere, hence $L^\infty$. Thus, $f \overline{T_x \phi} \in \mathcal{S}(\mathbb{R})$.

From the groupwork on problem 15 then, we know that $\widehat{f T_x \phi} \in \mathcal{S}(\mathbb{R})$, as a function of $\zeta$. Hence, in terms of $\zeta$, $V_\phi(x, \zeta)$ is $C^\infty$ and each $\zeta^m \partial^n_\zeta V_\phi(x, \zeta) \in L^\infty$. Looking more closely at a single derivative, we see that:

$$ \lim_{h \to 0} \frac{ V_\phi(f)(x, \zeta + h) - V_\phi(f) (x, \zeta)}{h} = \int f(t) \overline{\phi(t - x)}\frac{\exp(-2\pi i t (\zeta + h)) - \exp(-2 \pi i t \zeta)}{h} $$

Here, looking more closely at the integrand, we know that since $| \exp(i \theta) - 1| \leq |\theta|$ for all $\theta \in \mathbb{R}$, we may bound the integrand by:

$$ |f(t) \overline{\phi(t - x)}| \left| \frac{\exp(-2\pi i t (\zeta + h)) - \exp(-2 \pi i t \zeta)}{h}\right|  =  |f(t) \overline{\phi(t - x)}| |\exp(-2\pi i t \zeta)| \left| \frac{ \exp(-2\pi i t h) - 1}{h} \right| \leq 2 \pi  |t f(t) \overline{\phi(t - x)}| $$

Again, by the groupwork done for problem 15, we have shown that $t f(t) \in \mathcal{S}(\mathbb{R})$ for any $f \in \mathcal{S}(\mathbb{R})$, so this is bounded above by a Schwartz, and thus $L^1$ function.

Thus, we may interchange differentiation and integration by the DCT to see that:

$$ \partial_\zeta V_\phi(f)(x, \zeta) = \int - 2\pi i t f(t) \overline{\phi(t - x)} \exp(-2 \pi i t \zeta) dt \in L^\infty $$

In particular, then, a inductive argument on this integrand, where we play the same trick to bound the derivative by something like $4\pi^2 |t^2 f(t) \overline{\phi(t - x)}|$, we can continue to interchange derivatives, and show that $$\zeta^m \int (-2 \pi i t)^n f(t) \overline{\phi(t - x)}  \exp(-2 \pi i \zeta) dt \in L^\infty$$ for all $m, n \in \mathbb{N}$. In particular, we notice that for $m = 0$, and for any $n$, since $t^n f \in \mathcal{S}(\mathbb{R})$, this is $L^2$, and hence, by part 16.1, this is uniformly continuous in $\zeta, x$.

Now, we want to show that $\partial_x^i V_\phi$ exists for each $i$. Playing the same game, we look at

$$ \lim_{h \to 0} \frac{ V_\phi(f) (x + h, \zeta) - V_\phi(f)  (x, \zeta)}{h} = \int f(t) \exp(-2\pi i t \zeta) \frac{\overline{\phi(t - x - h)} - \overline{\phi(t - x)}}{h} dt $$ 

Since $\phi \in C^\infty$, so must be $\overline{\phi}$. Hence, we may apply the mean value theorem at any $t$ to conclude that $$\frac{\overline{\phi(t - x - h)} - \overline{\phi(t - x)}}{h} \leq \Vert \overline{\phi}' \Vert_\infty < \infty $$

finite, due to $\overline{\phi} \in \mathcal{S}(\mathbb{R})$. But, since $f \in \mathcal{S}(\mathbb{R})$, and hence, in $L^1$, $\Vert \overline{\phi}' \Vert_\infty f \in L^1$, and bounds the integrand. Hence, we may interchange differentiation and integration again via DCT, and see that:

$$\partial_x V_\phi(f)(x, \zeta) = \int -f(t) \overline{\phi'(t - x)} \exp(-2\pi i t \zeta) dt $$

Again, we may play this trick any number of times, since $\phi \in C^\infty$ and bring in any number of derivatives into the integral. Since $\phi \in \mathcal{S}(\mathbb{R})$, so is $\overline{T_x \phi'}$, hence, is $L^2$, and thus, every partial derivative in terms of $x$ is uniformly continuous.

Since we have continuous partials of every order, we may freely swap the order of differentiation.

Now, we are prepared to attack $x^m \zeta^n \partial_x^i \partial_\zeta^j V_\phi(f)(x, \zeta)$ for $i, j, m, n \in \mathbb{N}$.

First, assume $i = j = 0$. Then, we need only look at $x^m \zeta^n V_\phi(f)$. Bringing in the $x^m$ first, we first notice tha twe may rewrite $x^m = (t - (t-x))^m$. I do not want to write this out explicitly, but we notice that this becomes some linear combination of $t, (t-x)$. We notice, for any power of $(t-x)$, that:

$$ \int (t-x)^m f(t) \overline{\phi(t - x)} \exp(-2\pi i t \zeta) dt  = \int f(t) \overline{(t-x)^m\phi(t-x)} \exp(-2\pi i t \zeta) dt $$

and since $\phi \in \mathcal{S}(\mathbb{R})$, so is $(t-x)^m \phi(t-x)$. Hence, whatever $(t- x)^m \phi(t-x)$ is is Schwartz, hence $L^2$, and we see that this entire thing is bounded, by Cauchy-Schwartz, by $\Vert f \Vert \Vert M_\zeta T_x \tilde{\phi} \Vert  = \Vert f \Vert \Vert \tilde{\phi} \Vert$ for $\tilde{\phi} = t^m \phi(t)$. Hence, this thing is bounded. 

So, we would have that we may split $ x^m V_\phi(f)(x, \zeta)$ into a finite linear combination of things that look like:

$$ \int t^k f(t) \overline{ \tilde{\phi}_l(t - x)} \exp(-2 \pi i t \zeta) dt $$

where $\tilde{\phi}_l$ denotes the Schwartz function we retrieve by considering $(t-x)^m \phi(t-x)$. Absorbing the $t^k$ by combining it with $f(t)$, since $f \in \mathcal{S}(\mathbb{R})$, we may view each of these individually as the Fourier transform of some Schwartz function. Hence, this is the linear combination of some Fourier transforms of some Schwartz functions, hence bounded  by the Cauchy-Schwarz argument as before.

Since each of these are Fourier transforms of a Schwartz function, we can freely multiply by $\zeta$ and it remains bounded.

The same argument passes when $j \not = 0$, since we saw that we may pass the derivative inside, and just retrieve a power of $t$, which we can absorb into $f(t)$. So, now we just need to consider $i \not = 0$.

We see that once we pass the derivatives into the inside, we get something of the form:

$$  \partial_x^i \partial_\zeta^j V_\phi(f)(x, \zeta)  = \int (-1)^i (-2 \pi i t)^j f(t) \overline{\phi^{(i)}(t - x)} \exp(-2 \pi i t \zeta) dt $$

We see here, that we can play the same game with absorbing the $t$ into $f(t)$, and then once we bring in the $\zeta^n, x^m$, we play yet again the same game of absorption and linear combinations. I think I've gotten lazy, but the conclusion being that we end up with the linear combination of bounded functions, hence bounded.

Hence, $V_\phi(f)(x, \zeta) \in \mathcal{S}(\mathbb{R}^2)$. 

16.3)

Ok, I'm not sure how this could be an isometry, unless we have that $\Vert \varphi \Vert_2 = 1$, so we're just going to prove the norm aspect.

We proceed here by proving the equivalent Parseval's identity. Let $\phi_1, \phi_2, f_1, f_2 \in L^2(\mathbb{R})$. We wish to show that $\langle V_{\phi_1} f_1, V_{\phi_2} f_2 \rangle = \langle f_1, f_2 \rangle \overline{\langle \phi_1, \phi_2 \rangle}$.

Well, we have that:

$$ \langle V_{\phi_1} f_1, V_{\phi_2} f_2 \rangle = \iint  \left( \int_{\mathbb{R}} f_1(t) \overline{\phi_1(t - x)} \exp( -2 \pi i t \zeta) dt \right) \overline{\left( \int_{\mathbb{R}}  f_2(t) \overline{\phi_2(t - x)} \exp(-2 \pi i t \zeta) dt \right)} d\zeta dx $$

Now, we identify $\int_{\mathbb{R}} f_1(t) \overline{\phi_1(t - x)} \exp( -2 \pi i t \zeta) dt, \int_{\mathbb{R}}  f_2(t) \overline{\phi_2(t - x)} \exp(-2 \pi i t \zeta) dt $ as $L^1$ Fourier transforms of $f_1 \overline{T_x \phi_1}, f_2 \overline{T_x \phi_2}$, respectively. Hence, we have that this is equal to:

$$ \iint \mathcal{F}( f_1 \overline{T_x \phi_1}( \zeta)) \overline{\mathcal{F}(f_2 \overline{T_x \phi_2})(\zeta)} d \zeta dx $$

Now, taking this with this with the integral over $\zeta$, with respect to $x$ as a constant, we notice that $ \int   \mathcal{F}( f_1 \overline{T_x \phi_1}( \zeta)) \overline{\mathcal{F}(f_2 \overline{T_x \phi_2})(\zeta)} d \zeta$ is exactly the $L^2(\mathbb{R})$ inner product $\langle \mathcal{F}( f_1 \overline{T_x \phi_1}), \mathcal{F}(f_2 \overline{T_x \phi_2}) \rangle $. Here, we apply a Parseval's identity, with the understanding that if $f_i \overline{T_x \phi_i} \not \in L^2$, then both $L^2$ inner products diverge.

%$$ (|f_1|^2 \ast |\phi_2|^2)(x) = \int_{\mathbb{R}} |f_1(y)|^2 |\phi_1(x - y)|^2 dy $$

% -- Finish justifying why these are $L^2$ functions - probably need something like $\phi$ to be either $L^\infty, C_0$.
 
 Then, since $ f_1 \overline{T_x \phi_1},  f_2\overline{T_x \phi_2}$ are $L^2(\mathbb{R})$ functions, we may apply Plancherel's equality to instead examine:
 
 $$  \iint \mathcal{F}( f_1 \overline{T_x \phi_1}( \zeta)) \overline{\mathcal{F}(f_2 \overline{T_x \phi_2})(\zeta)} d \zeta dx = \int \langle f_1 \overline{T_x \phi_1}, f_2 \overline{T_x \phi_2} \rangle dx = $$
 
 $$ \int \left( \int f_1(y) \overline{\phi_1(y - x)} \overline{ f_2(y) \overline{\phi_2(y-x)}} dy \right) dx $$
 
 Here, we apply a Fubini's theorem, where we are guaranteed integrability due to the $L^2$ ness of the interior functions with respect to $y$ and $x$. Thus, we have that this is equal to:
 
 $$ \int_{\mathbb{R}}\left( \int_{\mathbb{R}} f_1(y)\overline{\phi_1(y-x)} \overline{f_2(y)} \phi_2(y-x) dx \right) dy = \int_{\mathbb{R}} f_1(y) \overline{f_2(y)} \left( \int_{\mathbb{R}}\overline{\phi_1(y-x)} \phi_2(y-x) dx \right) dy$$
 
 where we pull out the $f_1(y), \overline{f_2(y)}$, as they are constant with respect to $x$. Here, we notice that the inside integral is now simply the inner product $ \langle T_x \phi_2, T_x \phi_1 \rangle$, which, after a change of variables, we see as equal to $\langle \phi_2, \phi_1 \rangle$. But, the inner product is merely a constant, so we can pull that out, so we have this to be equal to:
 
 $$ \langle \phi_2, \phi_1 \rangle \int_{\mathbb{R}} f_1(y)\overline{f_2(y)} dy = \langle \phi_2, \phi_1 \rangle  \langle f_1, f_2 \rangle $$
 
 as desired.
 
 Now, setting $\phi_1 = \phi_2 = \phi, f_1 = f_2 = f$, we get the desired result of:
 
 $$\Vert V_\phi(f) \Vert_{L^2(\mathbb{R}^2)}^2 = \Vert f \Vert_{L^2(\mathbb{R})}^2  \Vert \phi \Vert_{L^2(\mathbb{R})}^2  \implies  \Vert V_\phi f \Vert_{L^2(\mathbb{R}^2)} = \Vert \phi \Vert_{L^2(\mathbb{R})} \Vert f \Vert_{L^2(\mathbb{R})}$$
 
16.4)

Here, we recall that if for all $g \in L^2(\mathbb{R})$, if $\langle f, g \rangle = \langle h, g \rangle$, then, by choosing $g = f - h$, we see that $f = h$ in the $L^2$ sense, as:

$$ \langle f, f - h \rangle - \langle h, f - h \rangle = 0 \implies \langle f - h, f -h \rangle = 0 \implies \Vert f- h \Vert_2^2 = 0 \implies f - h= 0 \implies f = h$$

So, let $g$ be an arbitrary $L^2(\mathbb{R})$ function, and consider the inner product $\langle V^*_\phi(f), g \rangle$. We have that:

$$ \langle V^*_\phi(f), g \rangle = \frac{1}{ \langle \phi, \phi \rangle } \left\langle \iint_{\mathbb{R}^2} V_\phi(f)(x, \zeta) \exp(2\pi i \zeta t) \phi(t - x) dx d\zeta, g \right\rangle  = $$

$$  \frac{1}{ \langle \phi, \phi \rangle }\int_{\mathbb{R}} \left(\iint_{\mathbb{R}^2} V_\phi(f)(x, \zeta) \exp(2\pi i \zeta t) \phi(t - x) dx d\zeta\right)(t) \; \overline{g(t)} dt  = $$

$$   \frac{1}{ \langle \phi, \phi \rangle } \iiint_{\mathbb{R}^3} V_\phi(f)(x, \zeta) \exp(2\pi i \zeta t )\phi(t - x)\overline{g(t)} dx d\zeta dt $$

We interchange integrals first, and justify using the finiteness afterwards via Fubini's. We switch the order such that $dt$ goes first. Pulling out the $V_\phi(f)(x, \zeta)$, as it is constant with respect to $t$, we see that:

$$  \frac{1}{ \langle \phi, \phi \rangle } \iint_{\mathbb{R}^2} V_\phi(f)(x, \zeta) \left( \int_{\mathbb{R}} \exp(2 \pi i \zeta t) \phi(t - x) \overline{g(t)} dt \right) d\zeta dx $$

But here, we notice that the inside integral is exactly the value of $\overline{V_\phi(g)(\zeta, x)}$, where we can bring the complex conjugation outside by viewing this as:

$$ \langle M_\zeta T_x \phi, g \rangle = \overline{\langle g, M_\zeta T_x \phi \rangle} = \overline{V_\phi(g)(\zeta, x)}$$

Hence, we can then look at this whole thing as the $L^2(\mathbb{R}^2)$ inner product:

$$ \frac{1}{ \langle \phi, \phi \rangle } \iint_{\mathbb{R}^2} V_\phi(f)(x, \zeta) \overline{V_\phi(g)(\zeta, x)} d\zeta dx =  \frac{1}{ \langle \phi, \phi \rangle } \langle V_\phi(f), V_\phi(g) \rangle $$

and here, we see our usage of Fubini's theorem is justified, due to the finiteness of this integral. Now, backing up a second, and taking $V_\phi(f) = F$ as any $L^2(\mathbb{R}^2)$ function, we see that since $V_\phi(g) \in L^2$, that this takes on a finite value, and hence $\langle V^*_\phi(F), g \rangle < \infty$ for any $g \in L^2(\mathbb{R})$, and hence $V^*_\phi(F) \in L^2(\mathbb{R}^2)$, so $V^*_\phi: L^2(\mathbb{R}^2) \to L^2(\mathbb{R})$. 

However, we already showed in 16.3 that $\langle V_\phi(f), V_\phi(g) \rangle = \langle f, g\rangle \langle \phi, \phi \rangle $. Thus, we have that:

$$ \frac{1}{ \langle \phi, \phi \rangle } \langle V_\phi(f), V_\phi(g) \rangle  = \frac{1}{ \langle \phi, \phi \rangle } \langle f, g \rangle \langle \phi, \phi \rangle = \langle f, g \rangle $$

Hence, we have that the inversion formula makes sense in an $L^2$ sense, differing potentially only on a set of measure 0:

$$ f(t) = \Vert \phi \Vert_2^{-2} \iint_{\mathbb{R}^2} V_\phi f(x, \zeta) \exp(2 \pi i \zeta t) \phi(t - x) dx d\zeta $$ 

\end{proof}


\end{document}